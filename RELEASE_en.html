<?xml version="1.0"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rev="MADE" href="mailto:nahi@ruby-lang.org" />
<link rel="StyleSheet" href="rubyStyle.css" type="text/css" media="screen" />
<title>Release Notes - SOAP4R</title>
</head>
<body>

<div class="header">
<h1>
Release Notes - SOAP4R
</h1>

<p class="status">
Last modified: Sep 15, 2005<br />
Created: July 17, 2000
</p>
</div>

<hr />

<div class="main">
<h2><span class="content">0. In this document...</span></h2>

<p>
This is Release Notes of SOAP4R.
</p>

<p>
Target SOAP4R version: SOAP4R/1.5.5
</p>

<ol>
<li><a href="#changes">Changes</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#uninstall">Uninstall</a></li>
<li><a href="#whats">What is SOAP4R?</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#samples">Samples</a></li>
<li><a href="#restrictions">Restrictions</a></li>
<li><a href="#resources">Resources</a></li>
<li><a href="#history">History</a></li>
<li><a href="#author">Author</a></li>
<li><a href="#copyright">Copyright</a></li>
</ol>

<h2 id="changes" name="changes"><span class="content">1. Changes</span></h2>

<p>
Here are changes in 1.5.5 from 1.5.4. 
</p>
<ul><li>SOAP
<ul><li>allow to configure an envelope namespace of SOAP request. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/124" title="configuable envelope namespace (closed)">#124</a>)
<pre class="wiki">TemporaryNamespace = 'http://www.w3.org/2003/05/soap-envelope'
@client.options[&#34;soap.envelope.requestnamespace&#34;] = TemporaryNamespace
@client.options[&#34;soap.envelope.responsenamespace&#34;] = TemporaryNamespace
@client.do_proc(...)
</pre>
</li><li>let SOAP request XML indent space configuable.  see "soap.envelope.no_indent" option. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/130" title="A server dislike indent spaces in XML instance (closed)">#130</a>)

</li><li>let external CES configuable.  ex. client["soap.mapping.external_ces"] = 'SJIS'.  $KCODE is used by default. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/133" title="let $KCODE free (closed)">#133</a>)
<pre class="wiki">external CES ::= CES used in Ruby object of client and server
internal CES ::= CES used in SOAP/OM
</pre>
</li><li>add iso-8859-1 external CES support. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/106" title="iso-8859-1 encoded response (closed)">#106</a>)
</li><li>fixed illegal 'qualified' handling of elements.  it caused ASP.NET inteoperability problem. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/144" title="soap4r and ASP.NET problems about 'qualified' (closed)">#144</a>)
</li><li>added 'soap.envelope.use_numeric_character_reference' (boolean) option to let query XML use numeric character reference in XML, not plain UTF-8 character.  GoogleSearch server seems to not allow plain UTF-8 character since 2005-08-15 update. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/147" title="GoogleWebSearch does not work with UTF-8 query (closed)">#147</a>)
</li><li>SOAP::Header::SimpleHeader (de)serialization throws an exception on SimpleHeader.on_(in|out)bound when header is a String.  so we could not use a simple single element headerItem.  fixed.  thanks to emil. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/129" title="SOAP::Header::SimpleHeader deserialization throws on ... (closed)">#129</a>)

</li><li>out parameter of rpc operation did not work.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/132" title="outparameter causes NameError (closed)">#132</a>)
</li><li>follow HTTP redirect only if using http-access2.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/125" title="follow http/https redirection (closed)">#125</a>) (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/145" title="an error from streamHandler.rb:37 that claims an uninitialized constant ... (closed)">#145</a>)
</li><li>add a workaround for importing an WSDL whose path begins with drive letter.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/115" title="RuntimeError: Cannot connect to ... (closed)">#115</a>)
</li></ul></li><li>WSDL
<ul><li>SOAP Data which is defined as a simpletype was not mapped correctly to Ruby obj when using wsdl2ruby.rb generated classdef file. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/123" title="soap4r mapping problem when using google adwords api (closed)">#123</a>)
</li><li>rpc/literal support. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/118" title="soap encoding is used for rpc/literal services (closed)">#118</a>)

</li><li>re-implemented local element qualify/unqualify control.  handles elementFormDefault and form in WSDL.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/119" title="Cannot talk to doc/literal service which is has ... (closed)">#119</a>)
</li><li>Array of an element which has simpleType causes a crash. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/128" title="Array of a element which has simpleType causes a crash (closed)">#128</a>)
</li><li>prarmeterOrder may not contain return part so it can be shorter than parts size.  Thanks to Hugh.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/139" title="prarmeterOrder may not contain return part (closed)">#139</a>)
</li></ul></li><li>Samples
<ul><li>added BasicAuth client sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/117" title="add BasicAuth sample not only in test dir but also in sample dir (closed)">#117</a>)
</li><li>added Base64 client/server sample.
</li><li>added Flickr SOAP interface client sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/122" title="Flickr SOAP API support (closed)">#122</a>)

</li><li>added SalesForce client sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/135" title="how to set session id in SOAP header (sforce WSDL) (closed)">#135</a>)
</li><li>updated Thawte CA certificate for GoogleAdWords sample.
</li><li>updated a client script with the newer version made by Johan.  thanks!
</li><li>shortened long file names. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/120" title="long file name (closed)">#120</a>)
</li><li>fixed typo in authheader sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/129" title="SOAP::Header::SimpleHeader deserialization throws on ... (closed)">#129</a>)
</li><li>updated deprecated method usage.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/138" title="create_driver in sample should be replaced with create_rpc_driver (closed)">#138</a>)
</li></ul></li></ul>

<p>
For details, see ChangeLog.
</p>

<p>
Thanks to all of soap4r ML members and soap4r users for their support.
</p>

<h2 id="install" name="install"><span class="content">2. Install</span></h2>

<p>
At first, see <a href="#dependencies">Dependencies</a> section.
You may need to install some extra packages.
Next, get the archived file of SOAP4R and extract it, then simply try;
</p>
<pre class="path">
$ ruby install.rb
</pre>

<p>
Necessary files will be installed to suitable directory.
</p>

<p>
Files and directories in lib directory are SOAP4R library program itself.
</p>

<dl>
<dt class="path">lib/</dt>
<dd>Libraries.</dd>

<dt class="path">sample/</dt>
<dd>SOAP4R samples.
See <a href="#samples">Samples</a> section.</dd>

<dt class="path">test/</dt>
<dd>Tests.  It also contains useful sample scripts for servers and clients.
<br/>
test/interopR2/ directory includes Clients/Server for
<a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
Followings are advanced examples to use complex type transmit,
sending base64 encoded string, multi-dimensional array, and so on.
<ul>
<li>test/interopR2/server.rb is a RPC Server side implementation.</li>
<li>test/interopR2/client.rb is a RPC Client side implementation.</li>
<li>test/interopR2/base.rb includes common definitions for client/server.</li>
</ul>
</dd>
</dl>

<h2 id="uninstall" name="uninstall"><span class="content">3. Uninstall</span></h2>

<p>
Simply delete installed files.
</p>

<h2 id="whats" name="whats"><span class="content">4. What is SOAP4R?</span></h2>

<p>
'SOAP4R' is an implementation of
<a href="http://www.w3.org/TR/SOAP/">Simple Object Access Protocol (SOAP) 1.1 (W3C Note)</a>.
</p>

<p>
Comments, information such as interoperability between SOAP4R and another implementation are welcomed.
Feel free sending mail to
<a href="mailto:nahi@ruby-lang.org" class="path">nahi@ruby-lang.org</a>.
</p>

<h2 id="dependencies" name="dependencies"><span class="content">5. Dependencies</span></h2>

<p>
SOAP4R is written in <a href="http://www.ruby-lang.org">Ruby</a> and
aims to use with Ruby application.
You have to install Ruby itself.
Ruby/1.6 series or later is required.
</p>
<ul>
  <li>ruby-1.8.2</li>
  <li>ruby-1.8.1</li>
  <li>ruby-1.6.8</li>
  <li>developing version of ruby-1.9.x at Ruby's CVS repository(HEAD)</li>
  <li>developing version of ruby-1.8.x at Ruby's CVS repository(ruby_1_8)</li>
</ul>

<p>
SOAP4R depends on following Ruby modules in
<a href="http://raa.ruby-lang.org">RAA</a>.
You also have to install these modules to use SOAP4R.
</p>

<h3>for ruby-1.8.2, ruby-1.8.1, developing versions of ruby-1.9.x and ruby-1.8.x</h3>

<dl>
<dt class="path"><a href="http://raa.ruby-lang.org/project/http-access2/">[RAA:http-access2]</a> (2.0.5) (required for SSL)</dt>
<dd>Yet another HTTP client implementation by NaHi.
It's not required when you don't use SSL, but it's recommended to use.
The author always runs and checks soap4r with http-access2.</dd>

<dt class="path"><a href="http://raa.ruby-lang.org/project/uconv/">[RAA:uconv]</a> (0.4.10) (not required but needed if your Ruby doesn't have iconv module and you need UTF-8 encoded Japanese chars)</dt>
<dd>by Yoshida Masato.
It is requred when you want automatic CES conversion between
SJIS &lt;-&gt; UTF8 and EUC &lt;-&gt; UTF8.
Note: SJIS &lt;-&gt; EUC uses NKF module which is in standard distribution.
</dd>

</dl>

<h3>for ruby-1.6.8</h3>

<dl>
<dt class="path"><a href="http://raa.ruby-lang.org/project/webrick/">[RAA:webrick]</a> (1.3.1)</dt>
<dd>TCP server toolkit by Gotoyuzo.</dd>

<dt class="path"><a href="http://raa.ruby-lang.org/project/http-access2/">[RAA:http-access2]</a> (2.0.5)</dt>
<dd>Yet another HTTP client implementation by NaHi.</dd>

<dt class="path"><a href="http://raa.ruby-lang.org/project/devel-logger/">[RAA:devel-logger]</a> (1.1.0)</dt>
<dd>Logging utility by NaHi.</dd>

<dt class="path"><a href="http://raa.ruby-lang.org/project/date2/">[RAA:date2]</a> (3.2)</dt>
<dd>Date and DateTime implementation by Todayoshi Funaba.</dd>

<dt class="path"><a href="http://raa.ruby-lang.org/project/uconv/">[RAA:uconv]</a> (0.4.10) (required for UTF-8 handling)</dt>
<dd>by Yoshida Masato.
It is requred when you want automatic CES conversion between
SJIS &lt;-&gt; UTF8 and EUC &lt;-&gt; UTF8.
Note: SJIS &lt;-&gt; EUC uses NKF module which is in standard distribution.
</dd>

</dl>

<h2 id="samples" name="samples"><span class="content">6. Samples</span></h2>

<p>
Samples are in sample/ directory of distribution.
Some samples try to connect to public servers.
Set environment variable SOAP_USE_PROXY and HTTP_PROXY if you are in a firewall and you have
http proxy to the internet like;
</p>
<pre class="path">
$ export SOAP_USE_PROXY=on
$ export HTTP_PROXY=http://myproxyserver:8080
  or
$ setenv SOAP_USE_PROXY on
$ setenv HTTP_PROXY http://myproxyserver:8080
</pre>

<dl>
  <dt class="path">soap/</dt>
  <dd>
    <dl>
      <dt class="path">calc/</dt>
      <dd>Calc service contains 2 servers and 2 clients.
        calc.rb is hosted by server.rb, calc2.rb is hosted by server2.rb.
        client.rb is for server.rb, client2.rb is for server2.rb.
        <dl>
          <dt>calc.rb</dt>
          <dd>Calc server definition using module and module methods.
            This module responds 'add', 'sub', 'multi' and 'div'.
          </dd>
          <dt>server.rb</dt>
          <dd>Standalone server.
            It requires calc.rb and serve module methods of this module.
            To run this server;
<pre class="path">
$ ./server.rb
</pre>
          </dd>
          <dt>server.cgi</dt>
          <dd>CGI version.
            To run this server, copy server.cgi and calc.rb to suitable
            directory of your WWW server.
          </dd>
          <dt>client.rb</dt>
          <dd>It connects to server.rb or server.cgi,
            and hit methods served by calc.rb.
            To run the client;
<pre class="path">
$ ./client.rb
</pre>
            Is it stacked?  Did you run the server.rb?<br/>
            Turn logger and wireDumpDev in its source on to see logs and wire
            dumps of SOAP transport.
          </dd>
          <dt>calc2.rb</dt>
          <dd>Calc server definition using class and instance methods.
            An instance of this class holds its value.  Methods 'set' and 'get'
            is to set/get the value.
            It also responds to '+', '-', '*', and '/'.
          </dd>
          <dt>server2.rb</dt>
          <dd>It requires calc2.rb and creates an instance of CalcService2
            that responds all SOAP requests.
            Since '+', '-' and so on of calc2.rb are not valid name as an
            element in XML instance, this sample register the method '+' as
            'add', '-' as 'sub', and so on.
          </dd>
          <dt>server2.cgi</dt>
          <dd>CGI version.
            To run this server, copy server2.cgi and calc2.rb to suitable
            directory of your WWW server.
          </dd>
          <dt>client2.rb</dt>
          <dd>It connects to server2.rb or server2.cgi.
            Set a value at first and call methods like 'puts objAtServer + 2'.
          </dd>
        </dl>
      </dd>

      <dt class="path">exchange/</dt>
      <dd>A sample to retrieve the currency rate from public SOAP service.
        <dl>
          <dt>iExchange.rb</dt>
          <dd>It includes common definitions for client and server of
            Exchange service.  Including only a definition of namespace URI of
            this service.</dd>
          <dt>exchange.rb</dt>
          <dd>Definition of servant class ExchangeService which returns the
            currency rate after connecting to another site by SOAP to get the
            real rate.
            So that this class is the SOAP server for local client and 
            is also a SOAP client for public server.
            An instance of this class is hosted by server.rb.
            The instance responds to only 'getRate' which receives two country
            code such as 'USA' and 'Japan'.</dd>
          <dt>server.rb</dt>
          <dd>It requires exchange.rb and creates an instance of
            ExchangeService that responds all SOAP requests.
            To run this server;
<pre class="path">
$ ./server.rb
</pre>
          </dd>
          <dt>server.cgi</dt>
          <dd>CGI version.  To run this server, copy server.cgi and exchange.rb
            to suitable directory of your WWW server.</dd>
          <dt>client.rb</dt>
          <dd>It connects to server.rb.  Turn logger and wireDumpDev in its
            source on to see logs and wire dumps of SOAP transport.
            To run the client;
<pre class="path">
$ ./client.rb
</pre>
          </dd>
        </dl>
      </dd>

      <dt class="path">authheader/</dt>
      <dd>It contains a sample to utilize SOAP Header handler.  Send
        userid/passwd and receive sessionid via SOAP Header</dd>

      <dt class="path">raa2.4/</dt>
      <dd>sample/soap/raa2.4/sample.rb is a sample client to retrieve project
        information on RAA.  It uses raaDriver.rb which is generated by
        wsdl2ruby.rb from WSDL at
        <a href="http://www.ruby-lang.org/xmlns/soap/interface/RAA/0.0.4/">http://www.ruby-lang.org/xmlns/soap/interface/RAA/0.0.4/</a>.
        You'll find wsdlDriver.rb in sample/wsdl/raa2.4/wsdlDriver.rb which
        loads the WSDL at runtime to connect.</dd>

      <dt class="path">scopesample/</dt>
      <dd>SOAP server sample which shows a different behavior of SOAP server scope settings; Request scope vs Application scope.
        sample/soap/scopesample/servant.rb is a servant which holds push-ed
        object that can be pop-ed afterward.
        See sample/soap/scopesample/server.rb how to define a servant as
        a Request scope servant or an Application scope servant.
        Application scope servant works as we expected because the servant
        object is living from beginning to the time server terminated.
        In contrast, request scope servant(s) does not work because a servant
        object is created for each request.
      </dd>

      <dt class="path">ssl/</dt>
      <dd>SSL SOAP server and client samples.
        <dl>
          <dt class="path">sslserver.rb</dt>
          <dd>SSL server sample which hosts "hello world" service.
            This server uses SSL server certificate in files/ directory
            (SSL client should check this certificate for SSL server
            authentication).</dd>
          <dt class="path">sslserver_noauth.rb</dt>
          <dd>This server generates SSL server certificate
            at runtime.  No security.</dd>
          <dt class="path">sslserver_require_clientauth.rb</dt>
          <dd>This server users SSL server certificate in files/ directory
            and requires SSL client authentication (clients must
            have SSL client certificate and send it to the server).</dd>
          <dt class="path">sslclient.rb</dt>
          <dd>SSL client sample which calls "hello world" service via HTTPS.
            This client checks SSL server certificate sent from SSL server.</dd>
          <dt class="path">sslclient_require_noserverauth.rb</dt>
          <dd>This client does not check SSL server certificate.
            No security.</dd>
          <dt class="path">sslclient_with_clientauth.rb</dt>
          <dd>This client sends SSL client certificate in files/ directory
            and checks SSL server certificate.</dd>
        </dl>
      </dd>

      <dt class="path">swa/</dt>
      <dd>SOAP server and client sample of SwA (SOAP with Attachments).</dd>

      <dt class="path">digraph.rb</dt>
      <dd>A sample of SOAP marshalling/unmarshalling.
        It creates a digraph that contains multi-ref-ed nodes at first
        and marshals this object to get serialized XML instance.
        Then reads and unmarshals this XML instance to recover a object
        which has the same links among nodes in the digraph.
      </dd>

      <dt class="path">sampleStruct/</dt>
      <dd>A sample to transmit complex structured object which has recursive
        object reference.
        <dl>
          <dt>iSampleStruct.rb</dt>
          <dd>It includes common definitions for client and server of
            SampleStruct service.  Definition of SampleStruct class and
            namespace URI of this service.</dd>
          <dt>sampleStruct.rb</dt>
          <dd>Definition of servant class SampleStructService.
            An instance of this class is hosted by server.rb.
            The instance responds to only 'hi' which receives a SampleStruct
            and wraps it in the new instance of SampleStruct to return .</dd>
          <dt>server.rb</dt>
          <dd>It requires sampleStruct.rb and creates an instance of
            SampleStructService that responds all SOAP requests.
            To run this server;
<pre class="path">
$ ./server.rb
</pre>
          </dd>
          <dt>server.cgi</dt>
          <dd>CGI version.  To run this server, copy server.cgi and
            sampleStruct.rb to suitable directory of your WWW server.</dd>
          <dt>client.rb</dt>
          <dd>It connects to server.rb.  Turn logger and wireDumpDev in its
            source on to see logs and wire dumps of SOAP transport.
            To run the client;
<pre class="path">
$ ./client.rb
</pre>
          </dd>
        </dl>
      </dd>

      <dt class="path">icd/</dt>
      <dd>A client for
        <a href="http://www.iwebmethod.net/">Insider's Computer Dictionary Web Service</a>.
        This service is implemented with ASP.NET so that it's also a sample of
        a client which connects to ASP.NET.
        CAUTION: this sample contains non-ascii chars in its source and dumped
        results.
        <dl>
          <dt>IICD.rb</dt>
          <dd>Class(type) definitions for this server.</dd>
          <dt>icd.rb</dt>
          <dd>Client implementation.  To run the client;
<pre class="path">
$ ./icd.rb
</pre>
          </dd>
        </dl>
      </dd>
    </dl>
  </dd>

  <dt class="path">wsdl/</dt>
  <dd>
    <dl>
      <dt class="path">googleSearch/</dt>
      <dd>Sample client to search with <a href="http://www.google.com/apis/">Google Web API</a> using WSDL.  You need to get a developer's key to use it.  See wsdlDriver.rb.</dd>

      <dt class="path">amazon/</dt>
      <dd>Sample client to connect with <a href="http://associates.amazon.com/exec/panama/associates/ntg/browse/-/1067662/086-5207681-4585409">AmazonWebServices</a> using WSDL.  See wsdlDriver.rb.</dd>

      <dt class="path">documentliteral/</dt>
      <dd>Sample client and server of document/literal service.  See README.txt in this directory to run this sample.</dd>

      <dt class="path">noaa/</dt>
      <dd>Sample client of National Weather Service digital weather forecast data service at http://weather.gov/</dd>

      <dt class="path">raa2.4/</dt>
      <dd>sample/wsdl/raa2.4/wsdlDriver.rb is a sample client to retrieve
        project information on RAA.  It loads WSDL file 
        <a href="http://www.ruby-lang.org/xmlns/soap/interface/RAA/0.0.4/">http://www.ruby-lang.org/xmlns/soap/interface/RAA/0.0.4/</a>
        at <strong>runtime</strong>.
        You'll find a sample client at sample/soap/raa2.4/sample.rb
        which connects RAA using pre-generated service definitions
        (not loads WSDL at runtime).</dd>

      <dt class="path">googleAdwords/</dt>
      <dd>Sample client of Google AdWords service.  
        CAUTION: I don't have an account of AdWords so the sample code is NOT
        tested.  Please tell me (nahi@ruby-lang.org) if you will get good/bad
        result in communicating with AdWords Server.</dd>

      <dt class="path">amazonEC/</dt>
      <dd>Sample client of AWSECommerce service.
        CAUTION: I don't have an account of AWSECommerce so the sample code is
        NOT tested.  Please tell me (nahi@ruby-lang.org) if you will get
        good/bad result in communicating with AWSECommerce Server.</dd>
    </dl>
  </dd>

</dl>
</dd>

</dl>

<h2 id="restrictions" name="restrictions"><span class="content">7. Restrictions</span></h2>

<p>
The following features of the
<a href="http://www.w3.org/TR/SOAP/">SOAP 1.1 (W3C Note)</a>
spec are <strong>NOT</strong> currently supported:
</p>

<ul>
<li style="margin-top: 2ex;">SOAP Envelope
<ul>
<li>SOAP actor attribute</li>
<li>SOAP Fault Codes</li>
</ul></li>
<li style="margin-top: 2ex;">Othres
<ul>
<li>Transport binding except HTTP server and client</li>
</ul></li>
</ul>

<h2 id="resources" name="resources"><span class="content">8. Resources</span></h2>

<dl>
<dt class="path"><a href="http://dev.ctor.org/soap4r">soap4r project page</a></dt>
<dd>You can get the latest information and the latest development version of soap4r here.</dd>

<dt class="path"><a href="http://raa.ruby-lang.org/project/soap4r">[RAA:soap4r]</a></dt>
<dd>RAA meta information</dd>

<dt class="path"><a href="http://groups-beta.google.com/group/soap4r">soap4r Mailing List on Google Groups</a></dt>
<dd>Feel free to join the list to ask any question and comment about soap4r.
  You can browse messages archive.  Bear in mind that Google Groups is still
  in [beta] stage.</dd>

<dt class="path">Subversion repository</dt>
<dd>Soap4r's svn repository is here: http://dev.ctor.org/svn/soap4r/ .
  To checkout the latest soap4r module, try
<pre>
svn checkout http://dev.ctor.org/svn/soap4r/trunk soap4r
</pre>
  CVS repository of soap4r which was located at cvs.ruby-lang.org is pending since 2004-05-27. </dd>
</dl>

<h2 id="history" name="history"><span class="content">9. History</span></h2>

<dl>
<dt>1.5.5 - Sep 15, 2005</dt>
<dd> Here are changes in 1.5.5 from 1.5.4. 
<ul><li>SOAP
<ul><li>allow to configure an envelope namespace of SOAP request. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/124" title="configuable envelope namespace (closed)">#124</a>)
<pre class="wiki">TemporaryNamespace = 'http://www.w3.org/2003/05/soap-envelope'
@client.options[&#34;soap.envelope.requestnamespace&#34;] = TemporaryNamespace
@client.options[&#34;soap.envelope.responsenamespace&#34;] = TemporaryNamespace
@client.do_proc(...)
</pre>
</li><li>let SOAP request XML indent space configuable.  see "soap.envelope.no_indent" option. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/130" title="A server dislike indent spaces in XML instance (closed)">#130</a>)

</li><li>let external CES configuable.  ex. client["soap.mapping.external_ces"] = 'SJIS'.  $KCODE is used by default. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/133" title="let $KCODE free (closed)">#133</a>)
<pre class="wiki">external CES ::= CES used in Ruby object of client and server
internal CES ::= CES used in SOAP/OM
</pre>
</li><li>add iso-8859-1 external CES support. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/106" title="iso-8859-1 encoded response (closed)">#106</a>)
</li><li>fixed illegal 'qualified' handling of elements.  it caused ASP.NET inteoperability problem. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/144" title="soap4r and ASP.NET problems about 'qualified' (closed)">#144</a>)
</li><li>added 'soap.envelope.use_numeric_character_reference' (boolean) option to let query XML use numeric character reference in XML, not plain UTF-8 character.  GoogleSearch server seems to not allow plain UTF-8 character since 2005-08-15 update. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/147" title="GoogleWebSearch does not work with UTF-8 query (closed)">#147</a>)
</li><li>SOAP::Header::SimpleHeader (de)serialization throws an exception on SimpleHeader.on_(in|out)bound when header is a String.  so we could not use a simple single element headerItem.  fixed.  thanks to emil. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/129" title="SOAP::Header::SimpleHeader deserialization throws on ... (closed)">#129</a>)

</li><li>out parameter of rpc operation did not work.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/132" title="outparameter causes NameError (closed)">#132</a>)
</li><li>follow HTTP redirect only if using http-access2.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/125" title="follow http/https redirection (closed)">#125</a>) (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/145" title="an error from streamHandler.rb:37 that claims an uninitialized constant ... (closed)">#145</a>)
</li><li>add a workaround for importing an WSDL whose path begins with drive letter.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/115" title="RuntimeError: Cannot connect to ... (closed)">#115</a>)
</li></ul></li><li>WSDL
<ul><li>SOAP Data which is defined as a simpletype was not mapped correctly to Ruby obj when using wsdl2ruby.rb generated classdef file. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/123" title="soap4r mapping problem when using google adwords api (closed)">#123</a>)
</li><li>rpc/literal support. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/118" title="soap encoding is used for rpc/literal services (closed)">#118</a>)

</li><li>re-implemented local element qualify/unqualify control.  handles elementFormDefault and form in WSDL.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/119" title="Cannot talk to doc/literal service which is has ... (closed)">#119</a>)
</li><li>Array of an element which has simpleType causes a crash. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/128" title="Array of a element which has simpleType causes a crash (closed)">#128</a>)
</li><li>prarmeterOrder may not contain return part so it can be shorter than parts size.  Thanks to Hugh.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/139" title="prarmeterOrder may not contain return part (closed)">#139</a>)
</li></ul></li><li>Samples
<ul><li>added BasicAuth client sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/117" title="add BasicAuth sample not only in test dir but also in sample dir (closed)">#117</a>)
</li><li>added Base64 client/server sample.
</li><li>added Flickr SOAP interface client sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/122" title="Flickr SOAP API support (closed)">#122</a>)

</li><li>added SalesForce client sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/135" title="how to set session id in SOAP header (sforce WSDL) (closed)">#135</a>)
</li><li>updated Thawte CA certificate for GoogleAdWords sample.
</li><li>updated a client script with the newer version made by Johan.  thanks!
</li><li>shortened long file names. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/120" title="long file name (closed)">#120</a>)
</li><li>fixed typo in authheader sample. (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/129" title="SOAP::Header::SimpleHeader deserialization throws on ... (closed)">#129</a>)
</li><li>updated deprecated method usage.  (<a class="closed ticket" href="http://dev.ctor.org/soap4r/ticket/138" title="create_driver in sample should be replaced with create_rpc_driver (closed)">#138</a>)
</li></ul></li></ul>
</dd>

<dt>1.5.4 - May 13, 2005</dt>
<dd>This is version 1.5.4.
Version 1.5.3 is the module which is included in ruby-1.8.2,
and not released independently.
Following changes consist from 2 parts; Changes from 1.5.3 to 1.5.4,
and from 1.5.2 to 1.5.3.
<br/><br/>
Changes in 1.5.4 from 1.5.3
<br/><br/>
<ul>
  <li>SOAP client and server
    <ul>
      <li>for both client side and server side
        <ul>
          <li>improved document/literal service support.  style(rpc, document)/use(encoding, literal) combination are all supported.  for the detail about combination, see test/soap/test_style.rb.</li>
          <li>let WSDLEncodedRegistry#soap2obj map SOAP/OM to Ruby according to WSDL as well as obj2soap.</li>
          <li>let SOAP::Mapping::Object handle XML attribute for doc/lit service.  you can set/get XML attribute via accessor methods which as a name 'xmlattr_' prefixed (&lt;foo name="bar"/&gt; -&gt; Foo#xmlattr_name).</li>
        </ul>
      </li>
      <li>client side
        <ul>
          <li>WSDLDriver capitalized name operation bug fixed.  from 1.5.3-ruby1.8.2, operation which has capitalized name (such as KeywordSearchRequest in AWS) is defined as a method having uncapitalized name. (converted with GenSupport.safemethodname to handle operation name 'foo-bar').  it introduced serious incompatibility; in the past, it was defined as a capitalized.  define capitalized method as well under that circumstance.</li>

          <li>added new factory interface 'WSDLDriverFactory#create_rpc_driver' to create RPC::Driver, not WSDLDriver (RPC::Driver and WSDLDriver are merged).  'WSDLDriverFactory#create_driver' still creates WSDLDriver for compatibility but it warns that the method is deprecated.  please use create_rpc_driver instead of create_driver.</li>
          <li>allow to use an URI object as an endpoint_url even with net/http, not http-access2.</li>
        </ul>
      </li>
      <li>server side
        <ul>
          <li>added mod_ruby support to SOAP::CGIStub.  rename a CGI script server.cgi to server.rb and let mod_ruby's RubyHandler handles the script.  CGIStub detects if it's running under mod_ruby environment or not.</li>
          <li>added fcgi support to SOAP::CGIStub.  see the sample at sample/soap/calc/server.fcgi.  (almost same as server.cgi but has fcgi handler at the bottom.)</li>
          <li>allow to return a SOAPFault object to respond customized SOAP fault.</li>
          <li>added the interface 'generate_explicit_type' for server side (CGIStub, HTTPServer).  call 'self.generate_explicit_type = true' if you want to return simplified XML even if it's rpc/encoded service.</li>
        </ul>
      </li>
    </ul>
  </li>

  <li>WSDL
    <ul>
      <li>WSDL definition
        <ul>
          <li>improved XML Schema support such as extension, restriction, simpleType, complexType + simpleContent, ref, length, import, include.</li>
          <li>reduced "unknown element/attribute" warnings (warn only 1 time for each QName).</li>
          <li>importing XSD file at schemaLocation with xsd:import.</li>
        </ul>
      </li>
      <li>code generation from WSDL
        <ul>
          <li>generator crashed when there's '-' in defined element/attribute name.</li>
          <li>added ApacheMap WSDL definition.</li>
        </ul>
      </li>
    </ul>
  </li>

  <li>Samples
    <ul>
      <li>added XML &lt;-&gt; Ruby mapping utility.  XSD::Mapping#xml2obj maps an XML to a tree of SOAP::Mapping::Object.  XSD::Mapping#obj2xml is for reverse direction conversion.  see a sample in sample/wsdl/noaa/client.rb</li>
      <li>added a sample for weather.gov's NDFD services.</li>
      <li>add a sample of googleAdWords.  CAUTION: I don't have an account of AdWords so the sample code is NOT tested.  Please tell me (nahi@ruby-lang.org) if you will get good/bad result in communicating with AdWords Server.</li>
      <li>add a sample of AWSECommerce.  CAUTION: I don't have an account of AWSECommerce so the sample code is NOT tested.  Please tell me (nahi@ruby-lang.org) if you will get good/bad result in communicating with AWSECommerce Server.</li>
    </ul>
  </li>

  <li>Redists
    <ul>
      <li>include xmlscan as a redistributed module.  xmlscan now is a first class XML processor.  still soap4r should run with REXML and XMLParser.</li>
    </ul>
  </li>
</ul>
<br/>
Changes in 1.5.3 from 1.5.2
<br/><br/>
<ul>
  <li>SOAP client and server
    <ul>
      <li>for both client side and server side
        <ul>
          <li>added a header handler class for simple SOAPHeader handling.  see samples in sample/soap/authheader/*.</li>
          <li>SSL support (both client side and server side).  check sample/soap/ssl/*</li>
          <li>gzipped content encoding support.  see sample/soap/helloworld/hw_{c,s}_gzip.rb.</li>
        </ul>
      </li>
      <li>client side
        <ul>
          <li>HTTP-Cookies support under soap4r + http-access2.  not supported under soap4r + net/http.</li>
          <li>added a method (SOAP::RPC::Driver#test_loopback_response) for loopback test with the specified response.</li>
          <li>added SOAP::RPC::Driver#loadproperty interface to load property file.</li>
          <li>let SOAP::RPC::Driver#add_method returns Method object.  you can invoke a service like; drv.add_method(&#34;hello&#34;).call(&#34;world&#34;)</li>
          <li>added http options to get/set timeout seconds.
            <ul>
              <li>for http-access2:
                <ul>
                  <li>driver.options[&#34;protocol.http.connect_timeout&#34;]</li>
                  <li>driver.options[&#34;protocol.http.send_timeout&#34;]</li>
                  <li>driver.options[&#34;protocol.http.receive_timeout&#34;]</li>
                </ul>
              </li>
              <li>for net/http:
                <ul>
                  <li>driver.options[&#34;protocol.http.connect_timeout&#34;]</li>
                  <li>driver.options[&#34;protocol.http.receive_timeout&#34;]</li>
                </ul>
              </li>
            </ul>
          </li>
          <li>raise NotImplementedError when net/http + basic_auth.</li>
        </ul>
      </li>
      <li>server side
        <ul>
          <li>introduced the new server class SOAP::RPC::HTTPServer which takes WEBrick's HTTPServer compatible config parameter.</li>
          <li>added a debug log of SOAP request/response.</li>
        </ul>
      </li>
    </ul>
  </li>

  <li>SOAP core part
    <ul>
      <li>added XMLSchema derived type support; byte, nonPositiveInteger, negativeInteger, nonNegativeInteger, positiveInteger, unsignedLong, unsignedInt, unsignedShort, unsignedByte.</li>
      <li>'eval' cleanup.  I hope it allows soap4r to work under mod_ruby environment.</li>
      <li>SOAPProperty raise RuntimeError under ruby-1.9 when accessing locked property.  still raises TypeError under ruby-1.8 or earlier.  the change is from ruby's behaviour change about an exception when accessing a frozen object.</li>
      <li>make SOAPHeader a child of SOAPStruct, not SOAPArray.</li>
      <li>SOAPProperty does not eval whole string.  \\, \t, \r, \n, \f escaping chars are supported like Java's Properties.</li>
      <li>URI object was not mapped correctly so that URI object was not interoperable under some situation.  fixed.</li>
      <li>SOAP::Mapping::Object: handle multiple value as an array.
<pre>
&lt;foo&gt;
  &lt;bar&gt;1&lt;/bar&gt;
  &lt;bar&gt;2&lt;/bar&gt;
  &lt;bar&gt;3&lt;/bar&gt;
  &lt;baz&gt;4&lt;/baz&gt;
&lt;/foo&gt;
  -&gt;
foo.bar =&gt; [1, 2, 3]
foo.baz =&gt; 4
</pre>
      </li>
      <li>raise an exception while dumping singleton class. [ruby-dev:22588]
<pre>
e.g. c = class &lt;&lt; Object.new
       class C; self; end
     end
     SOAPMarshal.dump(c)
</pre>
      </li>
    </ul>
  </li>

  <li>WSDL
    <ul>
      <li>WSDL definition
        <ul>
          <li>added &lt;xsd:simpleContent&gt; support.</li>
          <li>initial (means &#34;far from complete&#34;) simpleType support.</li>
          <li>support parts attribute of soap:body element.</li>
          <li>xmlSchema's 'any' element support; for parsing, just treat the element as an element which has a name 'any'.</li>
          <li>add mustUnderstand attribute support.</li>
          <li>a special well-known type: ApacheMap support.</li>
        </ul>
      </li>

      <li>code generation from WSDL
        <ul>
          <li>added simple code generation utils (lib/xsd/codegen)</li>
          <li>dump attribute definition in XMLSchema as 'attr_*' attribute. [experimental]</li>
          <li>wsdl2ruby.rb: add document/literal service support.  see sample/wsdl/documentliteral/*</li>
          <li>untyped element should be treated as xsd:anyType.</li>
          <li>added a tool xsd2ruby.rb for generating classdef from xsd file.</li>
        </ul>
      </li>
    </ul>
  </li>

  <li>Samples
    <ul>
      <li>added RAA/2.4 sample client</li>
      <li>added sample for Application/Request scope use.  Session scope (with Cookies) feature is not yet exists.</li>
    </ul>
  </li>
</ul>
</dd>

<dt>1.5.2 - December 25, 2003</dt>
<dd>
<ul>
  <li>License;
  <ul>
    <li>Changed license from GPL2 to Ruby's.</li>
  </ul></li>

  <li>Features;
  <ul>
    <li>Add SOAP Messages with Attachments (SwA) support.
    Patched by Jamie Herre.
    &quot;SOAP Messages with Attachments&quot; is the W3C Note which defines a
    binding for a SOAP 1.1 message to be carried within a MIME
    multipart/related message.  <a href="http://www.w3.org/TR/SOAP-attachments">http://www.w3.org/TR/SOAP-attachments</a>
    This feature is still experimental.  Interop testing is going on.</li>

    <li>HTTPS support even when you use net/http (not http-access2).
    Patched by Oliver M. Bolzer.</li>

    <li>Property file support.  SOAP and WSDL client reads &quot;soap/property&quot;
    file located at somewhere in $: (ruby libray locations).  For
    example, save these lines to
    &quot;$rubylibdir/site_ruby/1.8/soap/property&quot;.
<pre>
client.protocol.http.proxy = http://myproxy:8080
client.protocol.http.no_proxy = 192.168.71.71,192.168.71.72
</pre>
    Then all HTTP connections should use these proxy and no_proxy
    definition.</li>

    <li>Do not trust "HTTP_PROXY" environment variable by default to
    avoid security problem.  cf.
    <ul>
      <li><a href="http://ftp.ics.uci.edu/pub/websoft/libwww-perl/archive/2001h1/0072.html">http://ftp.ics.uci.edu/pub/websoft/libwww-perl/archive/2001h1/0072.html</a></li>
      <li><a href="http://ftp.ics.uci.edu/pub/websoft/libwww-perl/archive/2001h1/0241.html">http://ftp.ics.uci.edu/pub/websoft/libwww-perl/archive/2001h1/0241.html</a></li>
      <li><a href="http://curl.haxx.se/mail/archive-2001-12/0034.html">http://curl.haxx.se/mail/archive-2001-12/0034.html</a></li> 
    </ul>
    To use HTTP_PROXY and NO_PROXY environment variable, you must set
    SOAP_USE_PROXY environment variable 'on', too.
<pre>
bash$ soap_use_proxy=on http_proxy=http://myproxy:8080 ruby ...
csh$  env soap_use_proxy=on http_proxy=http://myproxy:8080 ruby ...
</pre></li>

    <li>Add SOAP::RPC::Driver#mandatorycharset= and
    SOAP::WSDLDriver#mandatorycharset= interface to force using
    charset when parsing response from buggy server such as AWS.</li>

    <li>Support a halfway-typed multi-ref array that Axis dumps.</li>

    <li>Added a interface XSD::Charset.encoding= to control internal
    encoding scheme.  Internal encoding scheme was fixed to 'utf-8'
    when iconv or uconv was installed.  You can set 'euc-jp', etc.
    to avoid encoding scheme conversion if you know what encoding
    scheme the server uses.</li>
  </ul></li>

  <li>Bug fixes;
  <ul>
    <li>SOAP::Marshal.unmarshal: raise an exception if parse fails.
    (returned nil)</li>

    <li>SOAP::WSDLDriver: decode unknown element according to self-defined
    type even if WSDL was given.</li>

    <li> SOAP::Mapping::Factory#create_empty_object: fix Class#allocate
    emulation code for ruby/1.6.  no effective change under ruby/1.8.</li>

    <li>SOAP::RPC::SOAPMethodResponse: element name of response message
    could have the name other than 'return'.</li>

    <li>SOAP::RPC::StandaloneServer: add methods 'shutdown' and 'status'
    as delegates to WEBrick.</li>

    <li>WSDL::SOAP::ClassDefCreator: WSDL/1.1 allows plural fault
    definition in a operation.</li>

    <li>XSD::Charset.init: use cp932 under emx.
    Patched by Siena. / SHINAGAWA, Norihide.</li>
  </ul></li>
</ul></dd>

<dt>1.5.1 - November  2, 2003</dt>
<dd>
<ul>
  <li>Features;
  <ul>
    <li>Sample updates; Update Amazon Web Service WSDL (v2 -&gt; v3), and update RAA WSDL(0.0.1 -&gt; 0.0.2).
    <li>Supports ivars of basetype and extending modules marshalling with XML attribute.
Using XML attribute to support ruby object dependent information, marshalled object keeps compatibility with SOAP spec.
It shows the power of XML, extensibility.<br/>
Now I think SOAP marshaller supports all kind of object graph which is supported by Ruby's original marshaller.</li>
    <li>Better XML pretty printing.
<pre>
puts SOAPMarshal.dump(Person.new(&quot;NaHi&quot;, 33))

=&gt;

&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;env:Envelope xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;
    xmlns:env=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;
  &lt;env:Body&gt;
    &lt;Person xmlns:n1=&quot;http://www.ruby-lang.org/xmlns/ruby/type/custom&quot;
        xsi:type=&quot;n1:Person&quot;
        env:encodingStyle=&quot;http://schemas.xmlsoap.org/soap/encoding/&quot;&gt;
      &lt;age xsi:type=&quot;xsd:int&quot;&gt;33&lt;/age&gt;
      &lt;name xsi:type=&quot;xsd:string&quot;&gt;NaHi&lt;/name&gt;
    &lt;/Person&gt;
  &lt;/env:Body&gt;
&lt;/env:Envelope&gt;
    </pre></li>
  </ul></li>

  <li>Installation;
  <ul>
    <li>The previous version soap4r/1.5.0 required http-access2 to be installed to build CGI server, but no longer needed fot this purpose now.
You can use almost all features of soap4r without http-access2,
but for actual usage, consider installing http-access2 for speed and
thread-safe SOAP client.</li>
    <li>Under ruby/1.8, installer installs lib files to rubylibdir(e.g. /usr/local/lib/ruby/1.8) instead of sitelibdir(e.g. /usr/local/lib/ruby/site_ruby/1.8)</li>
  </ul></li>

  <li>Bug fixes;
  <ul>
    <li>Do not introduce XSD constants to toplevel.</li>
    <li>'NO_PROXY'/'no_proxy' env var was not supported under net/http.  Fixed.</li>
    <li>Remove some ruby/1.8 dependent codes.  Should work fine under 1.6, too.</li>
    <li>XSD::XSDString did not check its value space under $KCODE = 'NONE' env for example where iconv module is not installed.</li>
    <li>XSD::XSDFloat, XSD::XSDDouble: add +/- sign explicitly when stringified and embedded into XML instance.  Ruby's sprintf may format -0.0 as "0.0" (no minus sign) depending on underlying C sprintf implementation.</li>
  </ul></li>
</ul></dd>

<dt>1.5.0 - September 13, 2003</dt>
<dd>Thousands of lines are changed in this release
(*.rb in current SOAP4R distribution has 30kloc or over).
But the biggest change is coding convention, camelCase to non_camel_case.
Though I tried to keep compatibility between 1.5.0 and 1.4.8, but there's no
way to keep it at a few point.  If you'll find your code which was developed
for 1.4.8 does not run under 1.5.0, feel free to ask
<a href="mailto:nahi@ruby-lang.org">me</a> to solve the problem.
<ul>
  <li>Dependency libraries;
  <ul>
    <li>Add net/http support.  Users can try sample SOAP clients without installing http-access2.  For actual usage, consider installing http-access2 for speed and thread-safe SOAP client.  CAUTION: Building SOAP CGI server needs http-access2 to be installed.</li>
    <li>Soap4r standalone server requires webrick module to be installed instead of GServer.rb and httpserver.rb.</li>
    <li>Supports iconv.  To use utf-8, you need to install iconv(included in ruby/1.8) or uconv.</li>
    <li>Suspend NQXML XML parser support.</li>
    <li>Remove REXML processor version check.  No longer needed.</li>
    <li>Rewrite tests with test/unit.</li>
  </ul></li>

  <li>Features;
  <ul>
    <li>Efforts to support messaging with document/literal and ASP.NET interoperability.</li>
    <li>Add document/literal messaging interface to wsdlDriver.rb.  See a very brief example in sample/soapbox/wsdlDriver.rb though I still didn't try to login to Jabber server..  Jabber folks?</li>
    <li>XML pretty printing.</li>
    <li>Better Ruby object mapping.  Rewrote RubytypeFactory to support more Ruby objects.  Tests in AMarshal(http://cvs.m17n.org/~akr/amarshal/) much helped it.  Thanks very much to Tanaka Akira-san.</li>
    <li>SOAPMarshal accepts IO as an output device like Marshal#dump.</li>
    <li>SOAPElement: constructor signature change.  Added extraattrs attribute.</li>
    <li>XSDDateTimeImpl: to_time did not set usec.</li>
    <li>StreamHandler: add reset method to shutdown a connection to a site.</li>
  </ul></li>

  <li>Others;
  <ul>
    <li>Simplify installer and remove uninstaller.  Saving inventory file in src dir could be the problem.</li>
    <li>Class/Module architecture relocation.</li>
    <li>Changing coding convention to fit with Ruby's.  Added lib/soap/compat.rb which defines compatibility definitions for 1.4.8.  lib/soap/compat.rb warns when the library is loaded.</li>
    <li>Many warnings raised under 1.8, caused by illegal references like XSD::XSDInt in typeMap.rb.  Soap4r defined toplevel::XSDInt.  Define XSD* classes in XSD module and introduce it to toplevel.</li>
  </ul></li>
</ul>
</dd>

<dt>1.4.8 - January 17, 2003</dt>
<dd>
This version has these enhancements and bug fixes;
<ul>
  <li>Avoid warnings;
  <ul>
    <li>Use Object#class instead of Object#type.</li>
    <li>Avoid implicit use a String as a regexp source.</li>
  </ul></li>
  <li>Add wsdlDriver which reads WSDL file and allow client to call procedures.  Here is an example to search Google.
  <pre>
    require 'soap/wsdlDriver'
    searchWord = ARGV.shift
    # You must get key from http://www.google.com/apis/ to use Google Web APIs.
    key = File.open(File.expand_path("~/.google_key")).read.chomp
    GOOGLE_WSDL = 'http://api.google.com/GoogleSearch.wsdl'
    # Load WSDL and create driver.
    google = SOAP::WSDLDriverFactory.new(GOOGLE_WSDL).createDriver
    # Just invoke!
    result = google.doGoogleSearch(key, searchWord, 0, 10, false, "", false, "", 'utf-8', 'utf-8')
    result.resultElements.each do |ele|
      puts "== #{ele.title}: #{ele.URL}"
      puts ele.snippet
      puts
    end
  </pre></li>
  <li>WSDLDriver client examples of AmazonWebServices, RAA and RNN (Japanese Ruby blog site) are also included in sample/ dir.</li>
  <li>Support xmlscan XML processor.</li>
  <li>Changed XML processor detection scheme.  Search xmlscan, REXML, XMLParser and NQXML in this order.</li>
  <li>Rewrite charset handling of XML processor.
  <ul>
    <li>If you only use us-ascii and utf-8, all XML processors should work without uconv module.</li>
    <li>With xmlscan/0.2 or later, you can handle euc-jp or shift_jis encoded XML instance WITHOUT uconv module.</li>
    <li>With other XML processors includes xmlscan/0.1, you need to install uconv module to handle euc-jp or shift_jis encoded XML instance.</li>
  </ul></li>
  <li>cgistub.rb: Overridable response mediatype.  There exists a http client which does not accept the mediatype text/xml which is specified in SOAP spec.  For example, an i-Mode (smart phone) client does not accept it...  You can set response mediatype to 'text/plain' for such client though it violates SOAP spec...</li>
  <li>wsdl2ruby: Add --force option to override existing file.</li>
  <li>Fixed many bugs.</li>
</ul></dd>

<dt>1.4.7 - September 20, 2002</dt>
<dd>
This version has these enhancements and bug fixes;
<ul>
<li>Includes WSDL4R initial release.
<ul>
<li>Bear in mind this is an alpha level code.
I wrote it halfway at half and a year ago,
and wrote the rest part in half and a day.
No comprehensive test, no strict syntax check, unfriendly error message, etc.
Try it if you want, and find bugs in it.</li>
<li>WSDL4R can run under XMLParser for now.
You might be able to let it run under NQXML/REXML if you know SAX
programming well.  How XML processor is used under WSDL4R
is as same as under SOAP4R.</li>
</ul></li>
<li>Added xsd:short support.</li>
<li>::Float(double precision float in Ruby) is mapped to xsd:double now.
It was mapped to xsd:float.</li>
<li>Fixed a bug of year &lt; 0 handling.  B.C. 1 =&gt; -0001 in XMLSchema.</li>
<li>Fixed a bug of exception serialization.  Custam mappingRegistry was not used.</li>
<li>Fixed a bug of regex for MediaType parsing.</li>
</ul>
</dd>

<dt>1.4.5 - May 25, 2002</dt>
<dd>
This version has these enhancements;
<ul>
<li>Supports all primitive datatypes of XML Schema Part2 Datatypes except NOTATION.
Added types are Duration, gYearMonth, anyURI, QName and so on.</li>
<li>Runs much faster than earlier versions.
Some performance check and tuning has been done.</li>
<li>Supports all Ruby objects marshalling/unmarshalling
except some special objects.  See below for more detail.</li>
</ul>

CAUTION: This version requires
<a href="http://raa.ruby-lang.org/list.rhtml?name=date2">[RAA:date2]</a> version 3.2 or later and
<a href="http://raa.ruby-lang.org/list.rhtml?name=http-access2">[RAA:http-access2]</a> version F.
Please make sure the versions you use.
<br/><br/>

Here is detail of change.
<dl>
<dt>Datatypes (XMLSchemaDatatypes.rb and baseData.rb)</dt>
<dd>
<ul>
<li>Added duration, gYearMonth, gYear, gMonthDay, gDay, gMonth, anyURI and QName datetypes.
All primitive datatypes in XML Schema Part 2 section 3.2 except NOTAION are supported now.</li>
<li>Modified XSDDataTime, XSDDate and XSDTime implementation.  These use a DataTime as a data holder.</li>
<li>Follow date/3.2: date2.rb -&gt; date.rb.</li>
<li>Changed to_s representations of single float and double float.  Thanks to gotoken.</li>
<li>XSDFloat: Add '0' if given str ends with 'E'.  Float( "-1.4E" ) might fail on some system.</li>
<li>Added SOAPRawString class.  Given string is embedded into XML instance directly.
You can use this class to embed (numeric) character references manually.</li>
<li>Fixed UTF8 regexp bug.  XSDString uses this regexp to check a given string.</li>
<li>Added UT for XMLSchemaDatatypes.rb.  See test/xsd_ut.rb and test/baseData_ut.rb.</li>
</ul></dd>

<dt>SOAP &lt;-&gt; Ruby object mapping (mappingRegistry.rb and rpcUtils.rb)</dt>
<dd>
<ul>
<li>Exception raised from server side could not be mapped to specific exception.  Fixed.</li>
<li>Refactoring to avoid *_eval.  Reduced warnings.</li>
<li>Added Range marshalling support.</li>
<li>Regexp#options support under ruby/1.6.</li>
<li>Supports cyclic Range such as;
<pre>
  class Foo
    attr_accessor :foo
    def succ; end
    def &lt;=&gt;( rhs ); end
  end

  o1 = Foo.new
  o2 = Foo.new
  r = o1..o2
  o1.foo = r

  p SOAPMarshal.load( SOAPMarshal.dump( r ))
</pre></li>
<li>Supports some instance variable of ruby standard class.
But instance variable of Array, Hash, String, Float and Bignum are not supported because of restriction of SOAP encoding format...</li>
<li>Alias ::SOAPMarshal to ::SOAP::Marshal.</li>
<li>Added Marshal.load and Marshal.dump as aliases to Marshal.unmarshal and
  Marshal.unmarshal.</li>
</ul></dd>

<dt>misc</dt>
<dd>
<ul>
<li>Dumps what parser is used when $DEBUG.  Try 'ruby -d -rsoap/processor -e 0'</li>
<li>Added CGI samples in sample/.</li>
<li>Some performance check and tuning has been done on both client and server side.
One bottle neck is Kernel.methods which SOAP4R use(d) while mapping SOAP Data Model &lt;-&gt; Ruby object.
I replaced it with Object.respond_to? .
Another bottle neck of client side is delegate.rb which is used by http-access2.
Get <a href="http://raa.ruby-lang.org/list.rhtml?name=http-access2">[RAA:http-access2]</a> version F.
</ul>
</dd>
</dl>
</dd>

<dt>1.4.4 - May 6, 2002</dt>
<dd>
This is a bug fix release.
Following users should update.
<ul>
<li>Users who use DateTime datatype.</li>
<li>Developers of SOAP client/server which works under multi-thread condition.</li>
<li>REXML users.</li>
</ul>
Fixed bugs.
<ul>
<li>XSDDataTime: Changed variable name usec to sec_frac.  It's not a micro sec so name usec is misleading.</li>
<li>XSDTime: Fixed bugs in usec part.</li>
<li>date.rb in standard library and date2 version 3 conflicts because date2.rb is a successor of date.rb and not designed for dual use.
(ex. using a module which requires date.rb like DBI and another module which requires date2.rb).
Added a workaround for this.</li>
<li>SOAP::Processor was not MT-safe.  Fixed.
Projected feature regards to MT are follows.
At least I hope so.  Tell me if you find these wrong.
<ul>
<li>Driver: safe</li>
<li>Proxy: safe</li>
<li>Server: safe</li>
<li>CGIStub: safe</li>
<li>StandaloneServer: safe</li>
<li>RPCRouter: safe</li>
<li>StreamHandler: safe</li>
<li>Processor: safe</li>
<li>SOAPParser: unsafe</li>
<li>SOAPGenerator: unsafe</li>
<li>EncodingStyleHandler: unsafe</li>
</ul>
</li>
<li>SOAP4R/1.4.3 supports REXML/2.1.3 but it did not detect REXML processor automatically.</li>
</ul>
</dd>

<dt>1.4.3 - April 11, 2002</dt>

<dd>
<dl>
<dt>Attention to 1.4.2 or earlier users;</dt>
<dd>
<ul>
<li>Stopped redistributing packages in RAA from this release.
Please get <a href="#dependencies">required</a> packages from
<a href="http://raa.ruby-lang.org">RAA</a>
and install it.</li>
<li>It still does NOT support WSDL!</li>
</ul>
</dd>

<dt>New features</dt>
<dd>
<ul>
<li>Added REXML parser support.</li>
<li>Added uninstaller.</li>
<li>Re: samples
<ul>
<li>Added 3 new samples, Calc, Exchange, and SampleStruct.</li>
<li>Use environment variable HTTP_PROXY or http_proxy for http proxy.</li>
<li>Removed unreachable services.</li>
<li>RAA: Separate iRAA.rb into RAA.rb and iRAA.rb.</li>
<li>Added description about <a href="#samples">samples</a> to RELEASE_en.html.</li>
</ul>
<li>Changed String encoding handling among
Ruby object &lt;-&gt; SOAP Data Model &lt;-&gt; XML instance.
<ul>
<li>Ruby object: $KCODE.</li>
<li>SOAP Data Model: utf-8 if uconv module is installed, $KCODE if not.</li>
<li>XML instance: Client side use utf-8 if uconv module is installed,
$KCODE if not.  Server side try to adjust the request encoding.</li>
<li>Use regexp instead of NKF.guess to check if the given String is EUC/SJIS or not.</li>
</ul>
</li>
<li>Added 'addServant' interface to server side.  See sample/Calc/server.rb.</li>
<li>Added 'addMethodAs' interface to both server side and client side.
See sample/Calc/server2.rb.</li>
</ul>
</dd>

<dt>Changes</dt>
<dd>
<ul>
<li>Removed Japanese document.
I was tired of maintaining 2 separated documents.
Though my English is poor as you see, numbers of readers of my English document
should be more than one of my Japanese document.
Would you please tell me bug of my English composition and of course in the code?</li>
<li>Use
<a href="http://raa.ruby-lang.org/list.rhtml?name=devel-logger">[RAA:devel-logger]</a>
instead of
<a href="http://raa.ruby-lang.org/list.rhtml?name=application">[RAA:application]</a>.
</li>
<li>Avoided using exception in soap2obj and reduced warnings in runtime.</li>
<li>XSDDateTime: Use date2 version 3 instead of date3.rb.
Date2 version 3 will be included in standard distribution of Ruby/1.8.</li>
<li>XSDDateTime: Added XSDDateTimeToTime module to extract a Time object from XSDDateTime, XSDDate and XSDTime.</li>
</ul>
</dd>

<dt>Bug fixes</dt>
<dd>
<ul>
<li>Set 'charset=' to content-type when sending back a SOAPFault.
It was not set.</li>
<li>XSDDateTime: Parsedate was not used.  Removed.</li>
<li>Added constant Log as a canonical name of Devel::Logger for backward
compatibility of devel-logger.</li>
<li>Foo = Struct.new(:foo) and Foo = Struct.new("Foo", :foo) could not be
  unmarshalled collectly.  All members were unmarshalled as nil.  Fixed.</li>
<li>Rescue ArgumentError(Unrecognized signal) in standaloneServer.rb for mswin32 ruby.</li>
</ul>
</dd>
</dl>
</dd>

<dt>1.4.2 - December 28, 2001</dt>
<dd>
Many changes around Ruby language mapping for SOAP.
I replaced DRb's marshalling format with SOAP marshalling and it passed
about all unit test packed in DRb package.
Only test failed was regards to packet size.
You might be able to use SOAP::Marshal.(un|)marshal for serializing objects
instead of Marshal.(load|dump).

<ul>
<li>Illegal decoding of a position-less element after position-ed element.  Fixed.</li>
<li>Add Rubytype encoding/decoding support: Regexp, Class, Module and Symbol.</li>
<li>Added an option of MappingRegistry to raise an exception when unknown Struct.
The option is set 'false' by default so that same behaviour as before.</li>
</ul></dd>

<dt>1.4.1 - December 7, 2001</dt>
<dd>SOAP4R/1.4 contained many bugs (as usual...)
1.4.1 is a maintenance release.  Some bugs are fixed.
Thanks to Michael Neumann.

<ul>
<li>instance_eval in SOAPStruct#add for adding accessor illegaly overrode important methods for SOAP4R such as name, name= and so on.  Removed this instance_eval and rewrote other codes which did depend the code.  Thanks to MNeumann for reporting it and giving a suggestion to fix it.</li>
<li>Fixed charset handling.  Illegal charset was set when automatic XML processor detecting.</li>
<li>Removed unused code(self.decode) in element.rb.</li>
<li>Illegal constant access when SOAP format error.  Fixed.</li>
<li>LiteralEncodingNamespace moved to SOAP module.</li>
</ul></dd>


<dt>1.4 - December 5, 2001</dt>
<dd><ul>
<li>Datatypes:
<ul>
<li>XSDFloat: Bug in rounding double float to single float.  Fixed.</li>
<li>SOAPElement: Added for literal encoding.</li>
<li>Removed SOAP encoding functions from baseData.  EncondingStyleHandler should decide how to encode SOAP data model. (ie. ASP.NET seems to have its own encoding style.)</li>
<li>SOAPHeaderItem: Changed interface for easy use.</li>
</ul></li>

<li>SOAP Encoding:
<ul>
<li>Encoding by itself, not using NQXML's tree object model.</li>
<li>At last, supported multi-ref encoding!</li>
<li>marshal.rb: Marshalling with Envelope and Body.  To marshal multi-ref'd object, Body is needed. CAUTION: Not compatible between former implementation.</li>
<li>Add EncodingStyleHandlerLiteral and set it to default.</li>
<li>Renamed encoding.rb to encodingStyleHandler.rb.</li>
<li>Added ASP.NET encoding handler.  ASP.NET seems to use literal encoding (by default) but it is easier with this encodingStyleHandler to access the service which is built with ASP.NET.</li>
<li>Changed element name escape.
<ul>
<li>:: &lt;=&gt; \.\.</li>
<li>[^a-zA-Z0-9_-] &lt;=&gt; \.[0-F][0-F]
</ul>
Limitation: Using SOAP4R's RPC function, you cannot use the name which contains '.' for method name, class/struct name, and accessor name. In Ruby world, it should not be a problem I believe.</li>
</ul></li>

<li>RPC related functions:
<ul>
<li>Driver: Added 'invoke' method for messaging.</li>
<li>Driver: Content of SOAPFault detail element is set in the exception which is thrown from SOAP Node to client application.</li>
<li>Processor: Changed Processor.(un|)marshal interface.  An instance of NS for parsing/generating XML instance is prepared in parser/generator.</li>
<li>mappingRegistry.rb is devided from rpcUtils.rb.</li>
</ul></li>
</ul></dd>


<dt>1.3.8 - October 4, 2001</dt>
<dd>Feedback from
<a href="http://www.whitemesa.com/interop.htm">SOAPBuilders Interoperability Lab &quot;Round 2&quot;</a>
and Michael Neumann.  Thanks!

<ul>
<li>Datatypes:
<ul>
<li>XSDFloat: Creating float data from junk string such as "123.0junk" was
  converted to 0.0.  It should be avoided.  Fixed.</li>
<li>XSDFloat: Fixed double -&gt; single rounding code.</li>
</ul></li>

<li>RPC related functions:
<ul>
<li>Changed typename <=> NCName strategy.  '::' &lt;=&gt; '.'</li>
<li>Added mappingRegistry argument to interfaces for SOAP object creation.</li>
</ul></li>

<li>Others:
<ul>
<li>Set faultstring '(No faultstring)' to SOAP Fault when empty faultstring element.</li>
<li>server.rb: Added mappingRegistry interface.</li>
<li>marshal.rb: Create NCName from typename.</li>
</ul></li>
</ul></dd>


<dt>1.3.7 - August 24, 2001</dt>
<dd>Feedback from
<a href="http://www.whitemesa.com/interop.htm">SOAPBuilders Interoperability Lab &quot;Round 2&quot;</a>
and Michael Neumann.  Thanks!

<ul>
<li>Datatypes:
<ul>
<li>All datatypes try to keep nil correctly.</li>
<li>XSDInt/Integer/Long: to_i -&gt; Integer() to detect format error.</li>
<li>XSDDateTime, XSDDate, XSDTime: Add trailing 'Z' to indicate UTC.</li>
<li>SOAPStruct: Accept untyped struct.</li>
<li>Map(Hash): Let &lt;item&gt; untyped.</li>
<li>Apache allows only 'item' in Map type.</li>
</ul></li>

<li>Stream handler:
<ul>
<li>Removed MPOST support.</li>
<li>ECONNRESET was not caught.  Fixed.</li>
<li>Added timeout support.</li>
</ul></li>

<li>Others:
<ul>
<li>Changed using URI library: URb -&gt; URI; following its name change.</li>
<li>Added NQXML/1.1.0 support.  A XMLDecl now recognized as a XMLDecl, not a PI.</li>
</ul></li>
</ul></dd>

<dt>1.3.6 - July 27, 2001</dt>
<dd>Many feedbacks from Michael Neumann.  Thanks!

<ul>
<li>hexBinary type: Added.</li>
<li>nil type: Should not be xsd:nil but xsi:nil.</li>
<li>Added StandaloneServer implementation.  Thanks to Michael Neumann!</li>
<li>Illegal parsing of XMLDecl.  Fixed.</li>
<li>RPC's 'inout' param was not supported.  Fixed.  Thanks to Michael Neumann!</li>
<li>URb::Generic#path returns '' when abs_path is empty (such as http://foo).
Added checking code.</li>
<li>Use http-access2 instead of original HTTP implementation.  http-access2 supports HTTP/1.1's persistent connection.</li>
</ul></dd>

<dt>1.3.5 - July 14, 2001</dt>
<dd>Many feedbacks from Michael Neumann.
I much appreciate valuable comments to him.
Thanks!

<ul>
<li>Changed using URI library: uri -&gt; URb.</li>
<li>Types changed:
  <ul>
    <li>All: Triming data except XSDString before parsing it.</li>
    <li>String: Regexp for XML Char check did not work under $KCODE = 'UTF8' condition.  Fixed.</li>
    <li>Nil: 2001xsd:nil must not accept a value '1'.  1999xsd:null must not accept a value 'true' because these are not a boolean but only a flag for nil.  Fixed.</li>
  </ul>
</li>

<li>Supported XML parser:
  <ul>
    <li>Added automatic CES conversion support for NQXMLParser.
        (Depends on uconv module).
        Set $KCODE for regexps used in NQXML parser.</li>
    <li>Moved SOAPNQXML*Parser to nqxmlparser.rb.</li>
  </ul>
</li>

<li>RPC related functions changed:</li>
  <ul>
    <li>Added marshalling/unmarshalling Ruby's object using SOAP Encoding.</li>
    <li>Parallelize of signatures of 'addMethod': proxy.rb &lt;-&gt; rpcRouter.rb, driver.rb &lt;-&gt; cgistub.rb.</li>
    <li>Void return if 'retval' is not defined.</li>
    <li>Added SOAP's Long type to default mapping table.</li>
  </ul>
</li>
</ul></dd>

<dt>1.3.4.2 - July 11, 2001</dt>
<dd>SOAP4R/1.3.4 was once packed in July 10, 2001.
But, thanks to MNeumann and knu,
I found I had forgotten to pack 'redist' directory with it.
I added some fix from developing version and repack it as 1.3.4.2.
Sorry for frequently release...
<br/><br/>

Feedback from
<a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
and Michael Neumann.  Thanks!

<ul>
<li>Added in 1.3.4.2:
  <ul>
    <li>Type Decimal: Silly bug fixed.  0.0001 was converted to 0.1</li>
    <li>CGIStub returns HTTP status 500 when returning SOAP Fault.
        Returned 200 because I don't like this spec., but SOAP/1.2 W3C WD
        9 July 2001 have adopted it.  Hmm...</li>
    <li>RPC client(driver.rb): Exception#set_backtrace was omitted when transmitting exception by SOAP Fault.</li>
  </ul>
</li>
<li>Types changed:
  <ul>
    <li>Array: Incomplete sparse array support.  Fixed.</li>
    <li>Date: Added.</li>
    <li>Time: Added.</li>
    <li>DateTime: Added precision of time support.</li>
    <li>String: Default data should not be nil but ''.</li>
    <li>Nil: Attribute value of xsi:nil might be '1' instead of 'true'.  Fixed.</li>
  </ul>
</li>

<li>Supported XML parser:
  <ul>
    <li>Added SOAPXMLParser and SOAPSAXDriver for XMLParser which uses expat.
        You can get the module from RAA: <a href="http://raa.ruby-lang.org/list.rhtml?name=xmlparser">XMLParser module</a>.<br/>
        To use XMLParser -&gt; add &quot;require 'soap/xmlparser'&quot;.<br/>
        To use SAX driver of XMLParser -&gt; add &quot;require 'soap/saxdriver'&quot;.<br/>
        To use NQXMLParser -&gt; nothing to do.<br/>
        FYI:
        <ul>
          <li>XMLParser version is faster than others</li>
          <li>SAXDriver version is extremely slow</li>
          <li>NQXMLParser version is somewhat slower than XMLParser version</li>
          <li>XMLParser is a Ruby extension module; To use it, you must compile and install it.</li>
          <li>So far, automatic code conversion support is for XMLParser and SAXDriver.  See below.</li>
        </ul>
    </li>
    <li>Added automatic CES conversion support: UTF-8 &lt;-&gt; EUC, SJIS.
        Requires Uconv module.  Works with XMLParser module only now.</li>
    <li>Added XMLDecl for CES.</li>
  </ul>
</ul></dd>

<dt>1.3.3 - July 4, 2001</dt>
<dd>Feedback from
<a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
and Michael Neumann.  Thanks!
<ul>
<li>Added SOAP4R Installer by Michael Neumann.  Thanks!</li>
<li>Types changed:
  <ul>
    <li>Boolean: Accepts 1 and 0 in addition to true and falue.</li>
    <li>Float: handles single-precision 32-bit floating point.
        Ruby's float is doule-precision.</li>
    <li>Double: Added.  Mapped to Ruby's Float.</li>
    <li>DateTime: Added TZ support.</li>
    <li>Long: Added.</li>
    <li>Int: Changed class hierarchy; derived from Long now.</li>
    <li>Array: Added 'position' and 'offset' support.</li>
    <li>Array: Added M-D Array support.</li>
    <li>Decimal: Added but it's incomplete now.</li>
  </ul>
</li>
<li>Illegal error message when a type not found in SOAP-ENC.</li>
<li>Tries to transmit \r safely.  To be checked...</li>
<li>Parse Fault items like 'faultcode' as same as Body ie. href/id.</li>
<li>rpcUtils.rb was completely re-written.
  <ul>
    <li>Added mappingRegistry interface.</li>
    <li>Changed soap2obj and obj2soap's interface.</li>
    <li>Bignum might be int or integer.  It's dependent on platform.
        Changed to check range  -2147483648~+2147483647 itself.</li>
    <li>ary2md: Added.  Converting Array ((of Array)...) to M-D Array.</li>
    <li>struct2obj: Illegal dependency on ordering of Struct#members.  Fixed.</li>
    <li>Ruby's Array should be converted to SOAP's Array of anyType.  Fixed.</li>
  </ul>
</li>
<li>Dump HTTP header even when an error was raised.</li>
</ul></dd>

<dt>1.3.2 - June 21, 2001</dt>
<dd>Feedback from
<a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>

<ul>
<li>&quot;nil='1'&quot; should be &quot;nil='true'&quot; in 2001 schema
whereas &quot;null='1'&quot; in 1999 schema.  Fixed.</li>
<li>SOAP Array was not typed with xsi:type.</li>
<li>Fixed serialization root handling algorithm.</li>
<li>Supported kind of SOAP-ENC:String style typed element.</li>
<li>Default namespace was not derived to child element.  Fixed.</li>
<li>Support default encodingStyle.</li>
<li>Added support for void type (SOAP::RPCUtils::SOAPVoid).</li>
</ul></dd>

<dt>1.3.1 - May 30, 2001</dt>
<dd>Feedback from
<a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>

<ul>
<li>Heading and trailing whtespaces in Base64 string could not be processed.  Fixed.</li>
<li>Illegal typeNamespace of SOAP's base64 type.  Fixed.</li>
<li>Added NaN, INF, -INF support of Float type.</li>
<li>Extracted xsd:1999 type support to XMLSchemaDatatypes1999.rb.  Use it with 'require &quot;soap/XMLSchemaDatatypes1999&quot;'.</li>
<li>Added 'root' attribute support.</li>
<li>Return status 500 when Fault.</li>
</ul></dd>

<dt>1.3.0 - May 20, 2001</dt>
<dd><ul>
<li>Adopted
<a href="http://raa.ruby-lang.org/list.rhtml?name=nqxml">NQXML module</a>
instead of XMLParser module extensively.
(You can implement your SOAP parser with XMLParser module.
See the last part of lib/soap/parser.rb)
<ul>
<li>Use NQXML's streamingParser or tokenizer instead of XMLParser's DOMParser for unmarshalling.</li>
<li>Use NQXML's document instead of XMLParser's DOM for marshalling.</li>
</ul></li>
<li>Passed major(?) part of inteoperability test in
<a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
See test/interop/README.txt.</li>
<li>Changed module namespace.  SOAPFoo -> SOAP::Foo.</li>
<li>Added float datatype support.</li>
<li>Changed dateTime marshalling format.  No timezone was added to marshalled string  because SOAP4R does not support timezone now.</li>
</ul></dd>

<dt>1.2.0 - March 30, 2001</dt>
<dd>Checked interoperability with
<a href="http://xml.apache.org/soap/">Apache-SOAP</a>,
<a href="http://www.pocketsoap.com">pocketSOAP/0.91</a>,
<a href="http://www.geocities.com/paulclinger/soap.html">SOAP::Lite for Perl</a>,
and <a href="http://www.develop.com/soap/">SOAP/Perl/0.28</a>.
It seems to work good except SOAP/Perl/0.28.

<ul>
<li>Added href/id unmarshalling support.
(href/id marshalling has not been supported yet)</li>
<li>Added SOAP's base64 type support.</li>
<li>SOAPTimeInstant -&gt; SOAPDateTime.  Following XML Schema PR.</li>
<li>SOAPStruct can have multiple accessor which have same name.
Should I separate it from original SOAPStruct?</li>
<li>Unknown attribute in Header Item raised an exception.  Omitted.</li>
<li>Router can handle methods which belong to different namespace.</li>
<li>Added an option to allow unqualified SOAP element.</li>
<li>Added Apache's Map type support.  Ruby's Hash are mapped to it now.
(Ruby's Hash marshalled by 1.1 processor in the old way can be unmarshalled,
but 1.2 processor marshals it in the new way and 1.1 processor does not
unmarshals it into Hash.  Incompatibility between SOAP4R/1.2 and 1.1)</li>
<li>Unknown type 'unknown:SOAPStruct' was incorrectly unmarshalled into SOAPStruct.  Fixed.</li>
<li>Added utility methods map! and members to SOAPArray and SOAPStruct.</li>
<li>Added methods request, response, and fault to SOAPBody.</li>
</ul></dd>

<dt>1.1.0 - March 23, 2001</dt>
<dd>Made many changes.
Since it is tested only for my limited use, please be careful to use.
Any comments especially "cannot connect to XXX implementation" are welcomed.
Feel free sending mail to
<a href="mailto:nahi@ruby-lang.org" class="path">nahi@ruby-lang.org</a>.

<ul>
<li>Added RPC server support.</li>
<li>Divided RPC client/server implementation from core.</li>
<li>Added Date, Hash type support. (Unknown type is converted to Struct as usual)</li>
<li>Adopted Date in date3.rb by Funaba-san instead of Time as TimeInstant.</li>
<li>Many encoding/decoding bugs around SOAPArray and SOAPStruct were fixed.</li>
</ul></dd>

<dt>1.0.2 - November 11, 2000</dt>
<dd>Since the previous package dated, refreshes some points.
<ul>
<li>Ruby: ruby 1.6.x</li>
<li>uri.rb: 4.22</li>
<li>sample: xml-soap/2.0</li>
</ul></dd>

<dt>1.0.1 - July 27, 2000</dt>
<dd>Handles SOAP/1.1 arrays.
1.0.0 cannot handles SOAP/1.1 arrays...
Bear in mind there still be many
<a href="#restrictions">restrictions</a>
around SOAP arrays.</dd>

<dt>1.0.0 - July 17, 2000</dt>
<dd>It is the initial released version of SOAP4R. :-)</dd>
</dl>

<h2 id="author" name="author"><span class="content">10. Author</span></h2>

<dl>
<dt>Name</dt>
<dd>NAKAMURA, Hiroshi (aka NaHi or nakahiro)</dd>

<dt>E-mail</dt>
<dd><a href="mailto:nahi@ruby-lang.org" class="path">nahi@ruby-lang.org</a></dd>
</dl>

<h2 id="copyright" name="copyright"><span class="content">11. Copyright</span></h2>

<p style="text-align: center;">
SOAP4R<br />
Copyright &copy; 2000-2005 NAKAMURA, Hiroshi &lt;nahi@ruby-lang.org&gt;.
</p>

<p>
This program is copyrighted free software by NAKAMURA, Hiroshi.  You can
redistribute it and/or modify it under the same terms of Ruby's license;
either the dual license version in 2003 (see the file RUBYS), or any later
version.
</p>

</div>

<hr />

<div class="footer">
<address>
<a href="http://rrr.jin.gr.jp/rwiki?cmd=view&name=soap4r">SOAP4R</a>.<br />
Copyright &copy; 2000, 2001, 2002, 2003, 2004, 2005
<a href="http://www.jin.gr.jp/~nahi/">NAKAMURA, Hiroshi</a>.
</address>
</div>
</body>
</html>
