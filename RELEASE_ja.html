<?xml version="1.0" encoding="ISO-2022-JP"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-2022-JP" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<link rev="MADE" href="mailto:nakahiro@sarion.co.jp" />
<link rel="StyleSheet" href="rubyStyle.css" type="text/css" media="screen" />
<title>Release Notes - SOAP4R</title>
</head>
<body>

<div class="header">
<h1>
Release Notes - SOAP4R
</h1>

<p class="status">
Last modified: August 24, 2001<br />
Created: July 15, 2000
</p>
</div>

<hr />

<div class="main">
<h2>0. In this document...</h2>

<p>
このドキュメントは，SOAP4Rのリリースノートです．
本文書が含まれているリリースパッケージについての解説です．
</p>

<p>
本文書が対象としているSOAP4Rのバージョンは，
SOAP4R/1.3.7
です．
</p>

<ol>
<li><a href="#changes">Changes</a></li>
<li><a href="#install">Install</a></li>
<li><a href="#uninstall">Uninstall</a></li>
<li><a href="#whats">What is SOAP4R?</a></li>
<li><a href="#dependencies">Dependencies</a></li>
<li><a href="#restrictions">Restrictions</a></li>
<li><a href="#history">History</a></li>
<li><a href="#author">Author</a></li>
<li><a href="#copyright">Copyright</a></li>
</ol>

<h2 id="changes" name="changes">1. Changes</h2>

<p>
<a href="http://www.whitemesa.com/interop.htm">SOAPBuilders Interoperability Lab &quot;Round 2&quot;</a>
で検出された非互換性をいくつか修正しました．
</p>

<ul>
<li>データ型:
<ul>
<li>全てのデータ型で，nilを扱えるようにしました．</li>
<li>XSDInt/Integer/Long: '123junk'のような不正な値を検出するために，to_i -&gt; Integer()を使うようにしました．</li>
<li>XSDDateTime, XSDDate, XSDTime: 明示的にUTCであることを表すため，末尾に'Z'を付けるようにしました．</li>
<li>SOAPStruct: xsi:typeが明示されていない構造体でも受けつけるようにしました．</li>
<li>Map(Hash): item要素の型は型付けしないようにしました．Apache系のSOAP実装が求めています．</li>
</ul></li>

<li>ストリーム関連:
<ul>
<li>MPOST対応コードを削りました．</li>
<li>ECONNRESETを検出していませんでした．修正しました．</li>
<li>タイムアウトをサポートしました．</li>
</ul></li>

<li>その他:
<ul>
<li>URbでなくURIモジュールを使うようにしました．URbがURIに名前を変更したのに追従しただけです．</li>
<li>NQXML/1.1.0に対応しました．</li>
</ul></li>
</ul>

<h2 id="install" name="install">2. Install</h2>

<p>
パッケージを取得し，展開・伸長してください．そして;
</p>

<pre>
&quot;ruby install.rb&quot;
</pre>

<p>
とすると，必要なファイルが適当なディレクトリにコピーされます．
</p>

<p>
lib/soapディレクトリに含まれているファイルが，SOAP4Rのライブラリプログラム本体です．
下記は，redistディレクトリに含まれる再配布パッケージ群です．
</p>

<dl>
<dt class="path">date3.rb</dt>
<dd>by ふなばさん（<a href="http://www.kt.rim.or.jp/~tadf/ruby.html">http://www.kt.rim.or.jp/~tadf/ruby.html</a>）</dd>

<dt class="path">parsedate3.rb</dt>
<dd>by ふなばさん（<a href="http://www.kt.rim.or.jp/~tadf/ruby.html">http://www.kt.rim.or.jp/~tadf/ruby.html</a>）</dd>

<dt class="path">GServer</dt>
<dd>by John W. Small</dd>

<dt class="path">httpserver.rb</dt>
<dd>by Michael Neumann: httpserver.rb in <a href="http://www.ruby-lang.org/en/raa-list.rhtml?name=XML-RPC">[RAA:XML-RPC]</a></dd>

<dt class="path">application.rb</dt>
<dd>by なひ: <a href="http://www.jin.gr.jp/~nahi/Ruby/Application/application.rb">http://www.jin.gr.jp/~nahi/Ruby/Application/application.rb</a></dd>

<dt class="path">http-access2</dt>
<dd>by なひ: <a href="http://www.ruby-lang.org/en/raa-list.rhtml?name=http-access2">[RAA:http-access2]</a></dd>
</dl>

<p>
パッケージ中の各ファイルの解説です．
</p>

<dl>
<dt class="path">lib/</dt>
<dd>SOAP4Rのライブラリプログラム本体．</dd>

<dt class="path">test/</dt>
<dd><a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
用のクライアントおよびサーバ．
現時点ではドキュメントも「ハウツー」モノも存在しません．ので，
test/interopR2/server.cgiはRPCサーバサイドの実装サンプルとして要チェックです．
test/interopR2/client*.rbはRPCクライアントサイドの実装サンプルとして要チェックです．
test/interopR2/base.rbは，RPCサーバ/クライアントサイド共有の定義を含んでいます．
</dd>

<dt class="path">sample/</dt>
<dd>SOAP4Rを利用するサンプルプログラム．</dd>

<dt class="path">sample/apacheClient.rb</dt>
<dd>SOAP-RPCクライアントのサンプルプログラム．
Apache SOAPの，stockquoteおよびaddressbookデモに接続する．
先にサーバ側のインストール &amp; deployを済ませておくこと．
<pre class="path">
./sampleClient.rb http://localhsot:2020/xml-soap/rpcrouter/rpcrouter.jsp
</pre>
などとして起動する．</dd>

<dt class="path">sample/RAA/*</dt>
<dd>SOAP-RPCクライアントのサンプルプログラムその2．
www.ruby-lang.orgにあるRAAサーバに接続するプログラム群です．
<ul>
<li>soap4r.rb, soap4rApp.rb: SOAP4Rを使うRubyスクリプト</li>
<li>xmlrpc4r.rb: xmlrpc4r（RAAにあります）を使うRubyスクリプト</li>
<li>pocketSOAP.js: pocketSOAPを使うJScriptスクリプト</li>
<li>SOAP::Lite.pl: SOAP::Lite for Perlを使うPerlスクリプト</li>
</ul>
このサーバはテスト公開中なので，安定動作を期待しないでください．
</dd>

<dt class="path">redist/</dt>
<dd>各種再配布パッケージから，SOAP4Rで利用するファイル群．
利用させて頂いているみなさん，どうもありがとうございます．
</dd>

<dt class="path">redist/archive/</dt>
<dd>各種再配布パッケージそのもの．
各パッケージの著作権および各種隣接権については，各パッケージに記載されているものに従うこと．</dd>
</dl>

<h2 id="uninstall" name="uninstall">3. Uninstall</h2>

<p>
インストール時に作成されたファイルを全部消してください．
</p>

<pre>
ruby -rrbconfig -e 'include Config; puts CONFIG[&quot;sitedir&quot;] + &quot;/&quot; + CONFIG[&quot;MAJOR&quot;] + &quot;.&quot; + CONFIG[&quot;MINOR&quot;]'
</pre>

<p>
は，インストール先ディレクトリを表示するはずです．
このディレクトリで，&quot;soap&quot;ディレクトリおよび，&quot;redist&quot;
ディレクトリに含まれるファイル名をチェックしてください．
</p>

<h2 id="whats" name="whats">4. What is SOAP4R?</h2>

<p>
SOAP4Rは，
<a href="http://www.w3.org/TR/SOAP/">Simple Object Access Protocol (SOAP) 1.1 (W3C Note)</a>
をRubyから利用するためのライブラリプログラムです．
SOAPについての詳細は，
<a href="http://www.sarion.co.jp/ml/soap/">SOAP-ml-JP Home Page</a>
にあるリンク集，
<a href="http://www.sarion.co.jp/ml/soap/link.html">SOAP-ml-JP Links</a>
を御覧ください．
</p>

<p>
他実装との互換性の情報を募集しています．
「〜につないでみたが上手くいかない」「上手くいった」という情報がありましたら，
お気軽に
<a href="mailto:nakahiro@sarion.co.jp" class="path">nakahiro@sarion.co.jp</a>
まで御連絡ください．可能な限り対応します．
</p>

<h2 id="dependencies" name="dependencies">5. Dependencies</h2>

<p>
SOAP4Rを利用するためには，以下のものが必要です．
</p>

<ul>
<li>SOAP4Rは
<a href="http://www.ruby-lang.org">Ruby</a>
向けのライブラリです．
もちろんRuby本体が必要です．
稼働テストは1.6系で行なっています．
クラス変数を使っているため，1.4系では動きません．</li>

<li>SOAP4RはXML関連の処理を
<a href="http://www.ruby-lang.org/en/raa-list.rhtml?name=NQXML">NQXML module</a>
に依存しています．
NQXMLモジュールをインストールしておく必要があります．</li>

<li>SOAP-RPCクライアントサンプルを動かすためには，
<a href="http://xml.apache.org/soap/">Apache SOAP</a>
が必要です．
</li>
</ul>

<h2 id="restrictions" name="restrictions">6. Restrictions</h2>

<p>
SOAP4Rは
<a href="http://www.w3.org/TR/SOAP/">SOAP 1.1 (W3C Note)</a>
仕様をサポートすることを目的としていますが，現時点では以下に示す各種様々な制限があります．
これらは全て，SOAP4Rの実装による制限です．
</p>

<ul>
<li style="margin-top: 2ex;">SOAP Envelopeについて
<ul>
<li>SOAP actor属性に対応していません．</li>
<li>SOAP mustUnderstand属性に対応していません．</li>
<li>SOAP Fault Codesを真面目に扱ってません．</li>
</ul></li>
<li style="margin-top: 2ex;">SOAP Encodingについて
<ul>
<li>XML Schemaを読んでencode/decodeすることはできません．
SOAP Encoding本体に埋め込まれたxsi:typeのみを利用します．</li>
<li>多重参照へのmarshalling（unmarshallingは可能です）</li>
</ul></li>
<li style="margin-top: 2ex;">その他
<ul>
<li>トランスポートはHTTPのサーバ，クライアント側のみです．</li>
<li>HTTP Extension Framework（M-POST）に対応していません．</li>
</ul></li>
</ul>

<h2 id="history" name="history">7. History</h2>

<dl>
<dt>1.3.7 - August 24, 2001</dt>
<a href="http://www.whitemesa.com/interop.htm">SOAPBuilders Interoperability Lab &quot;Round 2&quot;</a>
で検出された非互換性をいくつか修正しました．

<ul>
<li>データ型:
<ul>
<li>全てのデータ型で，nilを扱えるようにしました．</li>
<li>XSDInt/Integer/Long: '123junk'のような不正な値を検出するために，to_i -&gt; Integer()を使うようにしました．</li>
<li>XSDDateTime, XSDDate, XSDTime: 明示的にUTCであることを表すため，末尾に'Z'を付けるようにしました．</li>
<li>SOAPStruct: xsi:typeが明示されていない構造体でも受けつけるようにしました．</li>
<li>Map(Hash): item要素の型は型付けしないようにしました．Apache系のSOAP実装が求めています．</li>
</ul></li>

<li>ストリーム関連:
<ul>
<li>MPOST対応コードを削りました．</li>
<li>ECONNRESETを検出していませんでした．修正しました．</li>
<li>タイムアウトをサポートしました．</li>
</ul></li>

<li>その他:
<ul>
<li>URbでなくURIモジュールを使うようにしました．URbがURIに名前を変更したのに追従しただけです．</li>
<li>NQXML/1.1.0に対応しました．</li>
</ul></li>
</ul></dd>

<dt>1.3.6 - July 27, 2001</dt>
<dd>Michael Neumannさんからのたくさんのフィードバック．
ありがとうございます．

<ul>
<li>hexBinary type: 追加しました．</li>
<li>nil type: xsd:nilではなく，xsi:nilとすべきでした．</li>
<li>単独サーバ実装を追加しました．Michael Neumannさんに感謝します．</li>
<li>XML文書宣言部分の解析が不正でした．修正しました．</li>
<li>RPCの'inout'パラメータがサポートされていませんでした．修正しました．Michael Neumannさんに感謝します．</li>
<li>URb::Generic#pathは絶対パスが空のとき（例えばhttp://foo）に''を返します．チェックコードを追加しました．</li>
<li>独自HTTP実装のかわりに，http-access2モジュールを利用します．http-access2はHTTP/1.1のpersistent connectionをサポートします．</li>
</ul></dd>

<dt>1.3.5 - July 14, 2001</dt>
<dd>Michael Neumannさんからのたくさんのフィードバック．
彼からの価値のあるコメントに感謝します．

<ul>
<li>依存するURIライブラリを，uriからURbに変更しました．</li>

<li>型関連の変更:
  <ul>
    <li>全て: stringを除き，解析前に前後の空白文字をトリミングするようにしました．</li>
    <li>string型: XML文字列かどうかを判断するRegexpが，UTF8モードでうまく動きませんでした．修正しました．</li>
    <li>Nil: 2001xsd:nilは値'1'を許可してはいけません．1999xsd:nullは値'true'を許可してはいけません．なぜならこれらはboolean型ではないからです．修正しました．</li>
  </ul>
</li>

<li>XMLパーザのサポート:
  <ul>
    <li>NQXMLを利用する場合でも，文字コードの自動変換機能をサポートしました．uconvモジュールやnkfモジュールを利用して，適宜変換を試みます．uconvモジュールがなければ，UTF8への変換を行いません．</li>
    <li>NQXMLパーザの実装を別ファイルへ移動しました．誰かxmlscanとchibiXML対応してください．</li>
  </ul>
</li>

<li>RPC関連機能の変更:</li>
  <ul>
    <li>SOAP Encodingを利用して，Rubyのオブジェクトをmarshal/unmarshalする機能を追加しました．</li>
    <li>'addMethod'インタフェイスのシグニチャを対応付けしました: proxy.rb &lt;-&gt; rpcRouter.rb, driver.rb &lt;-&gt; cgistub.rb.</li>
    <li>addMethodで'retval'が定義されなかった時，voidを返します．</li>
    <li>BigNumは，値の範囲に応じ，SOAPのLong型に変換されます．</li>
  </ul>
</li>
</ul></dd>

<dt>1.3.4.2 - July 11, 2001</dt>
<dd>
SOAP4R/1.3.4は2001/7/10に一度パッケージ化されました．
しかし，MNeumannさんとknuさんに教えていただいて，
'redist'ディレクトリをパッケージに含めるのを忘れていたことに気付きました．
そこで開発版からいくつかの修正を取り込むと同時に，
1.3.4.2として再度パッケージ化しました．
頻繁なリリースで申し訳ありません．．．
<br/><br/>
<a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
で検出された非互換性をいくつか修正しました．
</p>

<ul>
<li>1.3.4.2での変更:
  <ul>
    <li>Decimal型: 間抜けなバグを修正しました．0.0001が0.1に変換されてしまっていました．</li>
    <li>CGIStubはSOAP Faultを返すときにHTTP status 500を返すようになりました．
        おかしな仕様なのでずっと無視して200を返してきましたが，
        SOAP/1.2 W3C WD 9 July 2001もこれを採用したようです．むー．．．</li>
    <li>RPCクライアント実装（driver.rb）において，Exception#set_backtraceが正しく働いていませんでした．</li>
  </ul>
</li>
<li>型関連の変更:
  <ul>
    <li>Array: 疎な配列のサポートが不完全でした．修正されました．</li>
    <li>Date: 追加されました．</li>
    <li>Time: 追加されました．</li>
    <li>DateTime: ミリ秒をサポートしました．</li>
    <li>String: デフォルト値はnilではなく''であるべきです．</li>
    <li>Nil: xsi:nilの属性値は'true'じゃなくて'1'かもしれない．修正されました．</li>
  </ul>
</li>

<li>XMLパーザのサポート:
  <ul>
    <li>expatを利用したXMLパーザ，XMLParserを利用する，SOAPXMLParserとSOAPSAXDriverを追加しました．
        XMLParserはRAAから入手可能です: <a href="http://www.ruby-lang.org/en/raa-list.rhtml?name=XMLParser">XMLParser module</a>.<br/>
        XMLParserを使う -&gt; &quot;require 'soap/xmlparser'&quot;を追加します．<br/>
        SAX driver of XMLParserを使う -&gt; &quot;require 'soap/saxdriver'&quot;を追加します．<br/>
        NQXMLParserを使う -&gt; 何もしなくてもかまいません．<br/>
        FYI:
        <ul>
          <li>XMLParserバージョンが一番速いです．</li>
          <li>SAXDriverバージョンはめちゃくちゃ遅いです．</li>
          <li>NQXMLParserバージョンは，XMLParserバージョンより若干遅い程度（SOAPメッセージのXML文書は小さいのだ）．</li>
          <li>XMLParserはRubyの拡張モジュールなので，使うには，expatとXMLParserを取ってきてコンパイル・インストールする必要があります．</li>
          <li>文字コードの自動変換機能は，XMLParserバージョンとSAXDriverバージョンでしか使えません．以下も参照のこと．</li>
        </ul>
    </li>
    <li>文字コードの自動変換機能をサポートしました．UTF-8 &lt;-&gt; $KCODE（EUC, SJIS）の変換を行ないます．
        XMLParserモジュール，uconvモジュールが必要です．</li>
    <li>SOAPメッセージのXML文書にXML宣言が付くようになります．</li>
  </ul>
</li>

<li>RPC関連機能の変更:</li>
  <ul>
    <li>CGIStub#addMethodのインタフェイスが変わりました．
        ここではメソッドの名前空間を宣言できなくなります．
        CGIStubインスタンスはただ1つの名前空間だけをサポートします．</li>
    <li>出力パラメータのサポートを追加しました．</li>
    <li>メソッド宣言インタフェイス（RPCRouter#addMethodとDriver#addMethod）を変更しました．
        両者にて，パラメタ名とパラメタの型（in, inout, out, retval）を指定できます．
        現在のところ，サーバ側ではパラメタ名はチェックされませんが，将来的にはチェックされるべきです．
        価値のあるコメントをくれたMichael Neumannさんに感謝します．</li>
  </ul>
</li>
</ul></dd>


<dt>1.3.3 - July 4, 2001</dt>
<dd><a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
で検出された非互換性をいくつか修正しました．
また，
<a href="http://www.ruby-lang.org/en/raa-list.rhtml?name=XML-RPCL">XML-RPC module</a>
作者のMichael Neumannさんにもらったインストーラが付きました!

<ul>
<li>Michael NeumannさんによるSOAP4R Installerを追加しました．ありがとう!</li>
<li>型関連の変更:
  <ul>
    <li>Boolean: true/falseの他に，1/0を解釈するようになりました．</li>
    <li>Float: single-precision 32-bit浮動小数点を扱います．
        RubyのFloatはdoule-precisionです（だよね?）</li>
    <li>Double: 追加されました．RubyのFloatに対応します．</li>
    <li>DateTime: タイムゾーンに対応しました．l</li>
    <li>Long: 追加されました．</li>
    <li>Int: 内部的に，Longを継承するように変更しました．機能にはあまり関係しません．</li>
    <li>Array: 'position'と'offset'に対応しました．疎な配列と部分的な配列を扱います．</li>
    <li>Array: 多次元配列に対応しました．独自実装ですがえらくダサいので，今後は，NArrayがインストールされている環境ではNArrayを使うように変更したいと思います．</li>
    <li>Decimal: 追加されましたが，まだ不完全です．</li>
  </ul>
</li>
<li>SOAP-ENCの型として定義されていない型をみつけたときのエラーメッセージが不正でした．</li>
<li>CR(\r)を安全に転送しようと試みます．今後の更なるテストが必要です．．．</li>
<li>'faultcode'のようなFault項目を，Bodyと同様に解析するようにしました（独自にやっていたので，href/idなどの解析に不備がありました）．</li>
<li>rpcUtils.rbは大幅に書き換えられました．
  <ul>
    <li>言語バインディング（Rubyオブジェクト←→SOAPオブジェクトモデル）のマッピングを外部から指定するようにしました．</li>
    <li>soap2objとobj2soapのインタフェイスが変更されました．</li>
    <li>Bignumはintかもしれないし，integerかもしれません．環境に依存します．
        値域（-2147483648〜+2147483647）を自身でチェックするようにしました.</li>
    <li>ary2mdというインタフェイスを追加しました．配列（（の配列）．．．）を多次元配列に変換します．</li>
    <li>struct2obj: Struct#membersが返す配列の並びに不正に依存していました．修正しました．</li>
    <li>RubyのArrayはanyType型の配列に変換されるべきです．修正しました．</li>
  </ul>
</li>
<li>通信途中でエラーが起きた場合でも，通信結果をログに書き出すようにしました．</li>
</ul></dd>

<dt>1.3.2 - June 21, 2001</dt>
<dd><a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
で検出された非互換性をいくつか修正しました．

<ul>
<li>XSD 1999（長く流通していたドラフトバージョン）では
&quot;null='1'&quot;とすべきなのに対し，
XSD 2001（勧告バージョン）では，
&quot;nil='1'&quot;は&quot;nil='true'&quot;であるべきです．
修正しました．</li>
<li>SOAP Arrayがxsi:typeによって型指定されていませんでした．</li>
<li>root属性の扱いが間違っていたのを修正しました．</li>
<li>SOAP-ENC:Stringのような要素名で記述される
SOAP Encodingデフォルト型付け要素をサポート．</li>
<li>子要素にデフォルト名前空間機能が継承されていませんでした．修正しました．</li>
<li>デフォルトのencodingStyleを指定することができます．</li>
<li>void型をサポート（SOAP::RPCUtils::SOAPVoid）．</li>
</ul></dd>

<dt>1.3.1 - May 30, 2001</dt>
<dd><a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
で検出された非互換性をいくつか修正しました．

<ul>
<li>Base64型のデータの先頭および末尾に空白があると誤動作していたのを修正しました．</li>
<li>SOAP-ENCのBase64型のデータタイプ宣言が間違っていました．</li>
<li>Float型でNaN, INF, -INFを扱えるようにしました．</li>
<li>xsd:1999型を利用するための各種宣言をXMLSchemaDatatypes1999.rbとして分離しました．'require &quot;soap/XMLSchemaDatatypes1999&quot;'として利用してください．</li>
<li>root属性をサポートしました．</li>
<li>Faultを返す時にはHTTP status 500を返すようにしました．</li>
</ul></dd>

<dt>1.3.0 - May 20, 2001</dt>
<dd><ul>
<li><a href="http://www.ruby-lang.org/en/raa-list.rhtml?name=NQXML">NQXML module</a>
を採用し，marshal/unmarshal共に全面的に書き換えました
（XMLストリームの解析については，XMLParserを利用して高速化することも可能です．
lib/soap/parser.rbの末尾を見てください）．
<ul>
<li>XMLParserのTreeParserのかわりに，
NQXMLのstreamingParserもしくはtokenizerを使ってunmarshallingします．</li>
<li>XMLParserのDOMのかわりに，NQXMLのdocumentおよびwriterを使ってmarshallingします．</li>
</ul></li>
<li><a href="http://www.xmethods.net/ilab/">`SOAPBuilders Interoperability Lab.'</a>
で行なわれている互換性テストのうち，なひ環境でテスト可能なものについては全てテストを実施し，全てにパスしました．</li>
<li>全てのmoduleを，名前空間SOAPに入れました．SOAPCGIStub -&gt; SOAP::CGIStubとなっており，重大な非互換性がありますので注意してください．</li>
<li>floatデータ型をサポートしました．</li>
<li>dateTime型において，SOAP4RではTimezoneをサポートしていないので
（date3.rbではちゃんとサポートされています），
marshalling formatからTimezoneの部分を削りました．
いつかちゃんとサポートしたいです．</li>
</ul></dd>

<dt>1.2.0 - March 30, 2001</dt>
<dd><a href="http://www.sarion.co.jp/ml/soap/">SOAP-ml-JP</a>
のみなさんに御協力を頂いて，
<a href="http://xml.apache.org/soap/">Apache-SOAP</a>，
<a href="http://www.pocketsoap.com">pocketSOAP/0.91</a>，
<a href="http://www.geocities.com/paulclinger/soap.html">SOAP::Lite for Perl</a>，
<a href="http://www.develop.com/soap/">SOAP/Perl/0.28</a>
との接続テストを行なった結果を反映させました．
SOAP/Perl/0.28以外とは順調に通信できてます．
<ul>
<li>href/idを使ったXMLをunmarshalできるようになりました
（まだ参照をhref/idにmarshalすることはできません）</li>
<li>base64型をサポートしました．</li>
<li>SOAPTimeInstantをSOAPDateTimeに名称変更しました．
XML Schema PRへの追従です．</li>
<li>SOAPStructは，同じアクセサを持つ複数の値を扱えるようになりました．
SOAPStructとは別クラスにしたほうがよかったかも．</li>
<li>ルータは異なる名前空間に属するメソッド群を扱えるようになりました．</li>
<li>&lt;Envelope&gt;のような，非修飾な要素を許可するためのフラグが付きました．
単純にテキストを連結して送るだけのクライアントへの対応が楽になります．</li>
<li>Apache-SOAPで採用されているMapタイプをサポートしました．
RubyのHashもこの型にbindするようにしました．
（SOAP4R/1.1までは，Hashを独自形式にmarshalしてました．
1.1でmarshalされたXMLは，1.2でもHashにunmarshalすることができますが，
1.2では新形式にmarshalされるため，それを1.1でunmarshalすると，Hashではなく
Structになってしまいます．1.2と1.1の非互換に注意してください）</li>
<li>本来ならStructのサブクラスとしてunmarshalすべき型のうち，
'unknown:SOAPStruct'という名前の型を，内部クラスのSOAPStructとして
unmarshalしてしまっていました．修正しました．</li>
<li>SOAPArrayとSOAPStructに，map!およびmembersメソッドを追加しました．</li>
<li>SOAPBodyにrequest，responseおよびfaultメソッドを追加しました．</li>
<li>知らないヘッダ項目を見ると例外で落ちてしまっていました．無視するようにしました．</li>
</ul></dd>

<dt>1.1.0 - March 23, 2001</dt>
<dd>
結構たくさん変更しました．なひ用途でしかテストできてないので，
安定度は低いと思いますので御注意ください．
特に他SOAP実装とのinteroperabilityが不安です．
「〜につないでみたが上手くいかない」というレポートがありましたら，
是非なひ（<a href="mailto:nakahiro@sarion.co.jp" class="path">nakahiro@sarion.co.jp</a>）まで御連絡ください．可能な限り対応します．
<ul>
<li>RPCサーバとしての機能を追加しました．</li>
<li>RPCクライアント/サーバ機能の実装を，SOAP本体から分離しました．</li>
<li>RPCでRuby専用に使える型として，Date，Hashをサポートしました．
（知らない型については，従来通り単なるStructになります）</li>
<li>TimeInstantとして，Timeではなく，
ふなばさんのdate3.rbのDateを使うようにしました．
また，parsedate2→parsedate3に移行してみました．</li>
<li>RPCサーバとしての機能を追加している最中に，
SOAPArrayおよびSOAPStructのencoding/decodingのバグ（特に名前空間回り）を
たくさん修正しました．</li>
</ul>
</dd>

<dt>1.0.2 - November 11, 2000</dt>
<dd>若干古くなってきたので，細かいリフレッシュを行ないました．
<ul>
<li>ruby 1.6.x対応しました．</li>
<li>対応するuri.rbのバージョンが3.54から4.22になりました．</li>
<li>サンプルがxml-soap/2.0に対応しました．</li>
</ul></dd>

<dt>1.0.1 - July 27, 2000</dt>
<dd>SOAP/1.1の配列に対応しました．
実は対応してなかったんです．．．すいません．
<a href="#restrictions">制約</a>
はまだたくさん残っていますので注意してください．</dd>

<dt>1.0.0 - July 17, 2000</dt>
<dd>これが最初のリリースです．
変更点もなにもありません．
なら書くな．^^;</dd>
</dl>

<h2 id="author" name="author">8. Author</h2>

<dl>
<dt>Name</dt>
<dd>NAKAMURA, Hiroshi (aka NaHi or nakahiro)</dd>

<dt>E-mail</dt>
<dd><a href="mailto:nakahiro@sarion.co.jp" class="path">nakahiro@sarion.co.jp</a></dd>

<dt>URL</dt>
<dd><a href="http://www.jin.gr.jp/~nahi/" class="path">http://www.jin.gr.jp/~nahi/</a></dd>
</dl>

<h2 id="copyright" name="copyright">9. Copyright</h2>

<p>
本プログラムの著作権および各種隣接権について．GPL2です．
詳細は
<a href="COPYING">GNU GENERAL PUBLIC LICENSE Version 2, June 1991</a>
を参照してください．
</p>

<p style="text-align: center;">
SOAP4R<br />
Copyright &copy; 2000, 2001 NAKAMURA, Hiroshi.
</p>

<p>
This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.
</p>

<p>
This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
See the GNU General Public License(the file named `COPYING') for more details.
</p>

<p>
You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
</p>

</div>

<hr />

<div class="footer">
<address>
<a href="http://www.jin.gr.jp/~nahi/Ruby/SOAP4R/">SOAP4R</a>.<br />
Copyright &copy; 2000, 2001
<a href="http://www.jin.gr.jp/~nahi/">NAKAMURA, Hiroshi</a>.
</address>
</div>
</body>
</html>
